{"ast":null,"code":"'use strict';\n\nvar Lib = require('../../lib');\nvar Color = require('../../components/color');\nvar Registry = require('../../registry');\nvar handleXYDefaults = require('../scatter/xy_defaults');\nvar handlePeriodDefaults = require('../scatter/period_defaults');\nvar handleStyleDefaults = require('./style_defaults');\nvar handleGroupingDefaults = require('../scatter/grouping_defaults');\nvar attributes = require('./attributes');\nvar coerceFont = Lib.coerceFont;\nfunction supplyDefaults(traceIn, traceOut, defaultColor, layout) {\n  function coerce(attr, dflt) {\n    return Lib.coerce(traceIn, traceOut, attributes, attr, dflt);\n  }\n  var len = handleXYDefaults(traceIn, traceOut, layout, coerce);\n  if (!len) {\n    traceOut.visible = false;\n    return;\n  }\n  handlePeriodDefaults(traceIn, traceOut, layout, coerce);\n  coerce('xhoverformat');\n  coerce('yhoverformat');\n  coerce('orientation', traceOut.x && !traceOut.y ? 'h' : 'v');\n  coerce('base');\n  coerce('offset');\n  coerce('width');\n  coerce('text');\n  coerce('hovertext');\n  coerce('hovertemplate');\n  var textposition = coerce('textposition');\n  handleText(traceIn, traceOut, layout, coerce, textposition, {\n    moduleHasSelected: true,\n    moduleHasUnselected: true,\n    moduleHasConstrain: true,\n    moduleHasCliponaxis: true,\n    moduleHasTextangle: true,\n    moduleHasInsideanchor: true\n  });\n  handleStyleDefaults(traceIn, traceOut, coerce, defaultColor, layout);\n  var lineColor = (traceOut.marker.line || {}).color;\n\n  // override defaultColor for error bars with defaultLine\n  var errorBarsSupplyDefaults = Registry.getComponentMethod('errorbars', 'supplyDefaults');\n  errorBarsSupplyDefaults(traceIn, traceOut, lineColor || Color.defaultLine, {\n    axis: 'y'\n  });\n  errorBarsSupplyDefaults(traceIn, traceOut, lineColor || Color.defaultLine, {\n    axis: 'x',\n    inherit: 'y'\n  });\n  Lib.coerceSelectionMarkerOpacity(traceOut, coerce);\n}\nfunction crossTraceDefaults(fullData, fullLayout) {\n  var traceIn, traceOut;\n  function coerce(attr) {\n    return Lib.coerce(traceOut._input, traceOut, attributes, attr);\n  }\n  if (fullLayout.barmode === 'group') {\n    for (var i = 0; i < fullData.length; i++) {\n      traceOut = fullData[i];\n      if (traceOut.type === 'bar') {\n        traceIn = traceOut._input;\n        handleGroupingDefaults(traceIn, traceOut, fullLayout, coerce);\n      }\n    }\n  }\n}\nfunction handleText(traceIn, traceOut, layout, coerce, textposition, opts) {\n  opts = opts || {};\n  var moduleHasSelected = !(opts.moduleHasSelected === false);\n  var moduleHasUnselected = !(opts.moduleHasUnselected === false);\n  var moduleHasConstrain = !(opts.moduleHasConstrain === false);\n  var moduleHasCliponaxis = !(opts.moduleHasCliponaxis === false);\n  var moduleHasTextangle = !(opts.moduleHasTextangle === false);\n  var moduleHasInsideanchor = !(opts.moduleHasInsideanchor === false);\n  var hasPathbar = !!opts.hasPathbar;\n  var hasBoth = Array.isArray(textposition) || textposition === 'auto';\n  var hasInside = hasBoth || textposition === 'inside';\n  var hasOutside = hasBoth || textposition === 'outside';\n  if (hasInside || hasOutside) {\n    var dfltFont = coerceFont(coerce, 'textfont', layout.font);\n\n    // Note that coercing `insidetextfont` is always needed –\n    // even if `textposition` is `outside` for each trace – since\n    // an outside label can become an inside one, for example because\n    // of a bar being stacked on top of it.\n    var insideTextFontDefault = Lib.extendFlat({}, dfltFont);\n    var isTraceTextfontColorSet = traceIn.textfont && traceIn.textfont.color;\n    var isColorInheritedFromLayoutFont = !isTraceTextfontColorSet;\n    if (isColorInheritedFromLayoutFont) {\n      delete insideTextFontDefault.color;\n    }\n    coerceFont(coerce, 'insidetextfont', insideTextFontDefault);\n    if (hasPathbar) {\n      var pathbarTextFontDefault = Lib.extendFlat({}, dfltFont);\n      if (isColorInheritedFromLayoutFont) {\n        delete pathbarTextFontDefault.color;\n      }\n      coerceFont(coerce, 'pathbar.textfont', pathbarTextFontDefault);\n    }\n    if (hasOutside) coerceFont(coerce, 'outsidetextfont', dfltFont);\n    if (moduleHasSelected) coerce('selected.textfont.color');\n    if (moduleHasUnselected) coerce('unselected.textfont.color');\n    if (moduleHasConstrain) coerce('constraintext');\n    if (moduleHasCliponaxis) coerce('cliponaxis');\n    if (moduleHasTextangle) coerce('textangle');\n    coerce('texttemplate');\n  }\n  if (hasInside) {\n    if (moduleHasInsideanchor) coerce('insidetextanchor');\n  }\n}\nmodule.exports = {\n  supplyDefaults: supplyDefaults,\n  crossTraceDefaults: crossTraceDefaults,\n  handleText: handleText\n};","map":{"version":3,"names":["Lib","require","Color","Registry","handleXYDefaults","handlePeriodDefaults","handleStyleDefaults","handleGroupingDefaults","attributes","coerceFont","supplyDefaults","traceIn","traceOut","defaultColor","layout","coerce","attr","dflt","len","visible","x","y","textposition","handleText","moduleHasSelected","moduleHasUnselected","moduleHasConstrain","moduleHasCliponaxis","moduleHasTextangle","moduleHasInsideanchor","lineColor","marker","line","color","errorBarsSupplyDefaults","getComponentMethod","defaultLine","axis","inherit","coerceSelectionMarkerOpacity","crossTraceDefaults","fullData","fullLayout","_input","barmode","i","length","type","opts","hasPathbar","hasBoth","Array","isArray","hasInside","hasOutside","dfltFont","font","insideTextFontDefault","extendFlat","isTraceTextfontColorSet","textfont","isColorInheritedFromLayoutFont","pathbarTextFontDefault","module","exports"],"sources":["/Users/lordvoldemort/django_react/second_attempt/frontend/bull_bear/node_modules/plotly.js/src/traces/bar/defaults.js"],"sourcesContent":["'use strict';\n\nvar Lib = require('../../lib');\nvar Color = require('../../components/color');\nvar Registry = require('../../registry');\n\nvar handleXYDefaults = require('../scatter/xy_defaults');\nvar handlePeriodDefaults = require('../scatter/period_defaults');\nvar handleStyleDefaults = require('./style_defaults');\nvar handleGroupingDefaults = require('../scatter/grouping_defaults');\nvar attributes = require('./attributes');\n\nvar coerceFont = Lib.coerceFont;\n\nfunction supplyDefaults(traceIn, traceOut, defaultColor, layout) {\n    function coerce(attr, dflt) {\n        return Lib.coerce(traceIn, traceOut, attributes, attr, dflt);\n    }\n\n    var len = handleXYDefaults(traceIn, traceOut, layout, coerce);\n    if(!len) {\n        traceOut.visible = false;\n        return;\n    }\n\n    handlePeriodDefaults(traceIn, traceOut, layout, coerce);\n    coerce('xhoverformat');\n    coerce('yhoverformat');\n\n    coerce('orientation', (traceOut.x && !traceOut.y) ? 'h' : 'v');\n    coerce('base');\n    coerce('offset');\n    coerce('width');\n\n    coerce('text');\n    coerce('hovertext');\n    coerce('hovertemplate');\n\n    var textposition = coerce('textposition');\n    handleText(traceIn, traceOut, layout, coerce, textposition, {\n        moduleHasSelected: true,\n        moduleHasUnselected: true,\n        moduleHasConstrain: true,\n        moduleHasCliponaxis: true,\n        moduleHasTextangle: true,\n        moduleHasInsideanchor: true\n    });\n\n    handleStyleDefaults(traceIn, traceOut, coerce, defaultColor, layout);\n\n    var lineColor = (traceOut.marker.line || {}).color;\n\n    // override defaultColor for error bars with defaultLine\n    var errorBarsSupplyDefaults = Registry.getComponentMethod('errorbars', 'supplyDefaults');\n    errorBarsSupplyDefaults(traceIn, traceOut, lineColor || Color.defaultLine, {axis: 'y'});\n    errorBarsSupplyDefaults(traceIn, traceOut, lineColor || Color.defaultLine, {axis: 'x', inherit: 'y'});\n\n    Lib.coerceSelectionMarkerOpacity(traceOut, coerce);\n}\n\nfunction crossTraceDefaults(fullData, fullLayout) {\n    var traceIn, traceOut;\n\n    function coerce(attr) {\n        return Lib.coerce(traceOut._input, traceOut, attributes, attr);\n    }\n\n    if(fullLayout.barmode === 'group') {\n        for(var i = 0; i < fullData.length; i++) {\n            traceOut = fullData[i];\n\n            if(traceOut.type === 'bar') {\n                traceIn = traceOut._input;\n                handleGroupingDefaults(traceIn, traceOut, fullLayout, coerce);\n            }\n        }\n    }\n}\n\nfunction handleText(traceIn, traceOut, layout, coerce, textposition, opts) {\n    opts = opts || {};\n    var moduleHasSelected = !(opts.moduleHasSelected === false);\n    var moduleHasUnselected = !(opts.moduleHasUnselected === false);\n    var moduleHasConstrain = !(opts.moduleHasConstrain === false);\n    var moduleHasCliponaxis = !(opts.moduleHasCliponaxis === false);\n    var moduleHasTextangle = !(opts.moduleHasTextangle === false);\n    var moduleHasInsideanchor = !(opts.moduleHasInsideanchor === false);\n    var hasPathbar = !!opts.hasPathbar;\n\n    var hasBoth = Array.isArray(textposition) || textposition === 'auto';\n    var hasInside = hasBoth || textposition === 'inside';\n    var hasOutside = hasBoth || textposition === 'outside';\n\n    if(hasInside || hasOutside) {\n        var dfltFont = coerceFont(coerce, 'textfont', layout.font);\n\n        // Note that coercing `insidetextfont` is always needed –\n        // even if `textposition` is `outside` for each trace – since\n        // an outside label can become an inside one, for example because\n        // of a bar being stacked on top of it.\n        var insideTextFontDefault = Lib.extendFlat({}, dfltFont);\n        var isTraceTextfontColorSet = traceIn.textfont && traceIn.textfont.color;\n        var isColorInheritedFromLayoutFont = !isTraceTextfontColorSet;\n        if(isColorInheritedFromLayoutFont) {\n            delete insideTextFontDefault.color;\n        }\n        coerceFont(coerce, 'insidetextfont', insideTextFontDefault);\n\n        if(hasPathbar) {\n            var pathbarTextFontDefault = Lib.extendFlat({}, dfltFont);\n            if(isColorInheritedFromLayoutFont) {\n                delete pathbarTextFontDefault.color;\n            }\n            coerceFont(coerce, 'pathbar.textfont', pathbarTextFontDefault);\n        }\n\n        if(hasOutside) coerceFont(coerce, 'outsidetextfont', dfltFont);\n\n        if(moduleHasSelected) coerce('selected.textfont.color');\n        if(moduleHasUnselected) coerce('unselected.textfont.color');\n        if(moduleHasConstrain) coerce('constraintext');\n        if(moduleHasCliponaxis) coerce('cliponaxis');\n        if(moduleHasTextangle) coerce('textangle');\n\n        coerce('texttemplate');\n    }\n\n    if(hasInside) {\n        if(moduleHasInsideanchor) coerce('insidetextanchor');\n    }\n}\n\nmodule.exports = {\n    supplyDefaults: supplyDefaults,\n    crossTraceDefaults: crossTraceDefaults,\n    handleText: handleText\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}