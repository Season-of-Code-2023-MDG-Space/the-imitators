{"ast":null,"code":"'use strict';\n\nvar isNumeric = require('fast-isnumeric');\nvar tinycolor = require('tinycolor2');\nvar baseTraceAttrs = require('../plots/attributes');\nvar colorscales = require('../components/colorscale/scales');\nvar Color = require('../components/color');\nvar DESELECTDIM = require('../constants/interactions').DESELECTDIM;\nvar nestedProperty = require('./nested_property');\nvar counterRegex = require('./regex').counter;\nvar modHalf = require('./mod').modHalf;\nvar isArrayOrTypedArray = require('./array').isArrayOrTypedArray;\nexports.valObjectMeta = {\n  data_array: {\n    // You can use *dflt=[] to force said array to exist though.\n    description: ['An {array} of data.', 'The value MUST be an {array}, or we ignore it.', 'Note that typed arrays (e.g. Float32Array) are supported.'].join(' '),\n    requiredOpts: [],\n    otherOpts: ['dflt'],\n    coerceFunction: function (v, propOut, dflt) {\n      // TODO maybe `v: {type: 'float32', vals: [/* ... */]}` also\n      if (isArrayOrTypedArray(v)) propOut.set(v);else if (dflt !== undefined) propOut.set(dflt);\n    }\n  },\n  enumerated: {\n    description: ['Enumerated value type. The available values are listed', 'in `values`.'].join(' '),\n    requiredOpts: ['values'],\n    otherOpts: ['dflt', 'coerceNumber', 'arrayOk'],\n    coerceFunction: function (v, propOut, dflt, opts) {\n      if (opts.coerceNumber) v = +v;\n      if (opts.values.indexOf(v) === -1) propOut.set(dflt);else propOut.set(v);\n    },\n    validateFunction: function (v, opts) {\n      if (opts.coerceNumber) v = +v;\n      var values = opts.values;\n      for (var i = 0; i < values.length; i++) {\n        var k = String(values[i]);\n        if (k.charAt(0) === '/' && k.charAt(k.length - 1) === '/') {\n          var regex = new RegExp(k.substr(1, k.length - 2));\n          if (regex.test(v)) return true;\n        } else if (v === values[i]) return true;\n      }\n      return false;\n    }\n  },\n  boolean: {\n    description: 'A boolean (true/false) value.',\n    requiredOpts: [],\n    otherOpts: ['dflt'],\n    coerceFunction: function (v, propOut, dflt) {\n      if (v === true || v === false) propOut.set(v);else propOut.set(dflt);\n    }\n  },\n  number: {\n    description: ['A number or a numeric value', '(e.g. a number inside a string).', 'When applicable, values greater (less) than `max` (`min`)', 'are coerced to the `dflt`.'].join(' '),\n    requiredOpts: [],\n    otherOpts: ['dflt', 'min', 'max', 'arrayOk'],\n    coerceFunction: function (v, propOut, dflt, opts) {\n      if (!isNumeric(v) || opts.min !== undefined && v < opts.min || opts.max !== undefined && v > opts.max) {\n        propOut.set(dflt);\n      } else propOut.set(+v);\n    }\n  },\n  integer: {\n    description: ['An integer or an integer inside a string.', 'When applicable, values greater (less) than `max` (`min`)', 'are coerced to the `dflt`.'].join(' '),\n    requiredOpts: [],\n    otherOpts: ['dflt', 'min', 'max', 'arrayOk'],\n    coerceFunction: function (v, propOut, dflt, opts) {\n      if (v % 1 || !isNumeric(v) || opts.min !== undefined && v < opts.min || opts.max !== undefined && v > opts.max) {\n        propOut.set(dflt);\n      } else propOut.set(+v);\n    }\n  },\n  string: {\n    description: ['A string value.', 'Numbers are converted to strings except for attributes with', '`strict` set to true.'].join(' '),\n    requiredOpts: [],\n    // TODO 'values shouldn't be in there (edge case: 'dash' in Scatter)\n    otherOpts: ['dflt', 'noBlank', 'strict', 'arrayOk', 'values'],\n    coerceFunction: function (v, propOut, dflt, opts) {\n      if (typeof v !== 'string') {\n        var okToCoerce = typeof v === 'number';\n        if (opts.strict === true || !okToCoerce) propOut.set(dflt);else propOut.set(String(v));\n      } else if (opts.noBlank && !v) propOut.set(dflt);else propOut.set(v);\n    }\n  },\n  color: {\n    description: ['A string describing color.', 'Supported formats:', '- hex (e.g. \\'#d3d3d3\\')', '- rgb (e.g. \\'rgb(255, 0, 0)\\')', '- rgba (e.g. \\'rgb(255, 0, 0, 0.5)\\')', '- hsl (e.g. \\'hsl(0, 100%, 50%)\\')', '- hsv (e.g. \\'hsv(0, 100%, 100%)\\')', '- named colors (full list: http://www.w3.org/TR/css3-color/#svg-color)'].join(' '),\n    requiredOpts: [],\n    otherOpts: ['dflt', 'arrayOk'],\n    coerceFunction: function (v, propOut, dflt) {\n      if (tinycolor(v).isValid()) propOut.set(v);else propOut.set(dflt);\n    }\n  },\n  colorlist: {\n    description: ['A list of colors.', 'Must be an {array} containing valid colors.'].join(' '),\n    requiredOpts: [],\n    otherOpts: ['dflt'],\n    coerceFunction: function (v, propOut, dflt) {\n      function isColor(color) {\n        return tinycolor(color).isValid();\n      }\n      if (!Array.isArray(v) || !v.length) propOut.set(dflt);else if (v.every(isColor)) propOut.set(v);else propOut.set(dflt);\n    }\n  },\n  colorscale: {\n    description: ['A Plotly colorscale either picked by a name:', '(any of', Object.keys(colorscales.scales).join(', '), ')', 'customized as an {array} of 2-element {arrays} where', 'the first element is the normalized color level value', '(starting at *0* and ending at *1*),', 'and the second item is a valid color string.'].join(' '),\n    requiredOpts: [],\n    otherOpts: ['dflt'],\n    coerceFunction: function (v, propOut, dflt) {\n      propOut.set(colorscales.get(v, dflt));\n    }\n  },\n  angle: {\n    description: ['A number (in degree) between -180 and 180.'].join(' '),\n    requiredOpts: [],\n    otherOpts: ['dflt', 'arrayOk'],\n    coerceFunction: function (v, propOut, dflt) {\n      if (v === 'auto') propOut.set('auto');else if (!isNumeric(v)) propOut.set(dflt);else propOut.set(modHalf(+v, 360));\n    }\n  },\n  subplotid: {\n    description: ['An id string of a subplot type (given by dflt), optionally', 'followed by an integer >1. e.g. if dflt=\\'geo\\', we can have', '\\'geo\\', \\'geo2\\', \\'geo3\\', ...'].join(' '),\n    requiredOpts: ['dflt'],\n    otherOpts: ['regex'],\n    coerceFunction: function (v, propOut, dflt, opts) {\n      var regex = opts.regex || counterRegex(dflt);\n      if (typeof v === 'string' && regex.test(v)) {\n        propOut.set(v);\n        return;\n      }\n      propOut.set(dflt);\n    },\n    validateFunction: function (v, opts) {\n      var dflt = opts.dflt;\n      if (v === dflt) return true;\n      if (typeof v !== 'string') return false;\n      if (counterRegex(dflt).test(v)) return true;\n      return false;\n    }\n  },\n  flaglist: {\n    description: ['A string representing a combination of flags', '(order does not matter here).', 'Combine any of the available `flags` with *+*.', '(e.g. (\\'lines+markers\\')).', 'Values in `extras` cannot be combined.'].join(' '),\n    requiredOpts: ['flags'],\n    otherOpts: ['dflt', 'extras', 'arrayOk'],\n    coerceFunction: function (v, propOut, dflt, opts) {\n      if ((opts.extras || []).indexOf(v) !== -1) {\n        propOut.set(v);\n        return;\n      }\n      if (typeof v !== 'string') {\n        propOut.set(dflt);\n        return;\n      }\n      var vParts = v.split('+');\n      var i = 0;\n      while (i < vParts.length) {\n        var vi = vParts[i];\n        if (opts.flags.indexOf(vi) === -1 || vParts.indexOf(vi) < i) {\n          vParts.splice(i, 1);\n        } else i++;\n      }\n      if (!vParts.length) propOut.set(dflt);else propOut.set(vParts.join('+'));\n    }\n  },\n  any: {\n    description: 'Any type.',\n    requiredOpts: [],\n    otherOpts: ['dflt', 'values', 'arrayOk'],\n    coerceFunction: function (v, propOut, dflt) {\n      if (v === undefined) propOut.set(dflt);else propOut.set(v);\n    }\n  },\n  info_array: {\n    description: ['An {array} of plot information.'].join(' '),\n    requiredOpts: ['items'],\n    // set `dimensions=2` for a 2D array or '1-2' for either\n    // `items` may be a single object instead of an array, in which case\n    // `freeLength` must be true.\n    // if `dimensions='1-2'` and items is a 1D array, then the value can\n    // either be a matching 1D array or an array of such matching 1D arrays\n    otherOpts: ['dflt', 'freeLength', 'dimensions'],\n    coerceFunction: function (v, propOut, dflt, opts) {\n      // simplified coerce function just for array items\n      function coercePart(v, opts, dflt) {\n        var out;\n        var propPart = {\n          set: function (v) {\n            out = v;\n          }\n        };\n        if (dflt === undefined) dflt = opts.dflt;\n        exports.valObjectMeta[opts.valType].coerceFunction(v, propPart, dflt, opts);\n        return out;\n      }\n      var twoD = opts.dimensions === 2 || opts.dimensions === '1-2' && Array.isArray(v) && Array.isArray(v[0]);\n      if (!Array.isArray(v)) {\n        propOut.set(dflt);\n        return;\n      }\n      var items = opts.items;\n      var vOut = [];\n      var arrayItems = Array.isArray(items);\n      var arrayItems2D = arrayItems && twoD && Array.isArray(items[0]);\n      var innerItemsOnly = twoD && arrayItems && !arrayItems2D;\n      var len = arrayItems && !innerItemsOnly ? items.length : v.length;\n      var i, j, row, item, len2, vNew;\n      dflt = Array.isArray(dflt) ? dflt : [];\n      if (twoD) {\n        for (i = 0; i < len; i++) {\n          vOut[i] = [];\n          row = Array.isArray(v[i]) ? v[i] : [];\n          if (innerItemsOnly) len2 = items.length;else if (arrayItems) len2 = items[i].length;else len2 = row.length;\n          for (j = 0; j < len2; j++) {\n            if (innerItemsOnly) item = items[j];else if (arrayItems) item = items[i][j];else item = items;\n            vNew = coercePart(row[j], item, (dflt[i] || [])[j]);\n            if (vNew !== undefined) vOut[i][j] = vNew;\n          }\n        }\n      } else {\n        for (i = 0; i < len; i++) {\n          vNew = coercePart(v[i], arrayItems ? items[i] : items, dflt[i]);\n          if (vNew !== undefined) vOut[i] = vNew;\n        }\n      }\n      propOut.set(vOut);\n    },\n    validateFunction: function (v, opts) {\n      if (!Array.isArray(v)) return false;\n      var items = opts.items;\n      var arrayItems = Array.isArray(items);\n      var twoD = opts.dimensions === 2;\n\n      // when free length is off, input and declared lengths must match\n      if (!opts.freeLength && v.length !== items.length) return false;\n\n      // valid when all input items are valid\n      for (var i = 0; i < v.length; i++) {\n        if (twoD) {\n          if (!Array.isArray(v[i]) || !opts.freeLength && v[i].length !== items[i].length) {\n            return false;\n          }\n          for (var j = 0; j < v[i].length; j++) {\n            if (!validate(v[i][j], arrayItems ? items[i][j] : items)) {\n              return false;\n            }\n          }\n        } else if (!validate(v[i], arrayItems ? items[i] : items)) return false;\n      }\n      return true;\n    }\n  }\n};\n\n/**\n * Ensures that container[attribute] has a valid value.\n *\n * attributes[attribute] is an object with possible keys:\n * - valType: data_array, enumerated, boolean, ... as in valObjectMeta\n * - values: (enumerated only) array of allowed vals\n * - min, max: (number, integer only) inclusive bounds on allowed vals\n *      either or both may be omitted\n * - dflt: if attribute is invalid or missing, use this default\n *      if dflt is provided as an argument to lib.coerce it takes precedence\n *      as a convenience, returns the value it finally set\n */\nexports.coerce = function (containerIn, containerOut, attributes, attribute, dflt) {\n  var opts = nestedProperty(attributes, attribute).get();\n  var propIn = nestedProperty(containerIn, attribute);\n  var propOut = nestedProperty(containerOut, attribute);\n  var v = propIn.get();\n  var template = containerOut._template;\n  if (v === undefined && template) {\n    v = nestedProperty(template, attribute).get();\n    // already used the template value, so short-circuit the second check\n    template = 0;\n  }\n  if (dflt === undefined) dflt = opts.dflt;\n\n  /**\n   * arrayOk: value MAY be an array, then we do no value checking\n   * at this point, because it can be more complicated than the\n   * individual form (eg. some array vals can be numbers, even if the\n   * single values must be color strings)\n   */\n  if (opts.arrayOk && isArrayOrTypedArray(v)) {\n    propOut.set(v);\n    return v;\n  }\n  var coerceFunction = exports.valObjectMeta[opts.valType].coerceFunction;\n  coerceFunction(v, propOut, dflt, opts);\n  var out = propOut.get();\n  // in case v was provided but invalid, try the template again so it still\n  // overrides the regular default\n  if (template && out === dflt && !validate(v, opts)) {\n    v = nestedProperty(template, attribute).get();\n    coerceFunction(v, propOut, dflt, opts);\n    out = propOut.get();\n  }\n  return out;\n};\n\n/**\n * Variation on coerce\n *\n * Uses coerce to get attribute value if user input is valid,\n * returns attribute default if user input it not valid or\n * returns false if there is no user input.\n */\nexports.coerce2 = function (containerIn, containerOut, attributes, attribute, dflt) {\n  var propIn = nestedProperty(containerIn, attribute);\n  var propOut = exports.coerce(containerIn, containerOut, attributes, attribute, dflt);\n  var valIn = propIn.get();\n  return valIn !== undefined && valIn !== null ? propOut : false;\n};\n\n/*\n * Shortcut to coerce the three font attributes\n *\n * 'coerce' is a lib.coerce wrapper with implied first three arguments\n */\nexports.coerceFont = function (coerce, attr, dfltObj) {\n  var out = {};\n  dfltObj = dfltObj || {};\n  out.family = coerce(attr + '.family', dfltObj.family);\n  out.size = coerce(attr + '.size', dfltObj.size);\n  out.color = coerce(attr + '.color', dfltObj.color);\n  return out;\n};\n\n/*\n * Shortcut to coerce the pattern attributes\n */\nexports.coercePattern = function (coerce, attr, markerColor, hasMarkerColorscale) {\n  var shape = coerce(attr + '.shape');\n  if (shape) {\n    coerce(attr + '.solidity');\n    coerce(attr + '.size');\n    var fillmode = coerce(attr + '.fillmode');\n    var isOverlay = fillmode === 'overlay';\n    if (!hasMarkerColorscale) {\n      var bgcolor = coerce(attr + '.bgcolor', isOverlay ? markerColor : undefined);\n      coerce(attr + '.fgcolor', isOverlay ? Color.contrast(bgcolor) : markerColor);\n    }\n    coerce(attr + '.fgopacity', isOverlay ? 0.5 : 1);\n  }\n};\n\n/** Coerce shortcut for 'hoverinfo'\n * handling 1-vs-multi-trace dflt logic\n *\n * @param {object} traceIn : user trace object\n * @param {object} traceOut : full trace object (requires _module ref)\n * @param {object} layoutOut : full layout object (require _dataLength ref)\n * @return {any} : the coerced value\n */\nexports.coerceHoverinfo = function (traceIn, traceOut, layoutOut) {\n  var moduleAttrs = traceOut._module.attributes;\n  var attrs = moduleAttrs.hoverinfo ? moduleAttrs : baseTraceAttrs;\n  var valObj = attrs.hoverinfo;\n  var dflt;\n  if (layoutOut._dataLength === 1) {\n    var flags = valObj.dflt === 'all' ? valObj.flags.slice() : valObj.dflt.split('+');\n    flags.splice(flags.indexOf('name'), 1);\n    dflt = flags.join('+');\n  }\n  return exports.coerce(traceIn, traceOut, attrs, 'hoverinfo', dflt);\n};\n\n/** Coerce shortcut for [un]selected.marker.opacity,\n *  which has special default logic, to ensure that it corresponds to the\n *  default selection behavior while allowing to be overtaken by any other\n *  [un]selected attribute.\n *\n *  N.B. This must be called *after* coercing all the other [un]selected attrs,\n *  to give the intended result.\n *\n * @param {object} traceOut : fullData item\n * @param {function} coerce : lib.coerce wrapper with implied first three arguments\n */\nexports.coerceSelectionMarkerOpacity = function (traceOut, coerce) {\n  if (!traceOut.marker) return;\n  var mo = traceOut.marker.opacity;\n  // you can still have a `marker` container with no markers if there's text\n  if (mo === undefined) return;\n  var smoDflt;\n  var usmoDflt;\n\n  // Don't give [un]selected.marker.opacity a default value if\n  // marker.opacity is an array: handle this during style step.\n  //\n  // Only give [un]selected.marker.opacity a default value if you don't\n  // set any other [un]selected attributes.\n  if (!isArrayOrTypedArray(mo) && !traceOut.selected && !traceOut.unselected) {\n    smoDflt = mo;\n    usmoDflt = DESELECTDIM * mo;\n  }\n  coerce('selected.marker.opacity', smoDflt);\n  coerce('unselected.marker.opacity', usmoDflt);\n};\nfunction validate(value, opts) {\n  var valObjectDef = exports.valObjectMeta[opts.valType];\n  if (opts.arrayOk && isArrayOrTypedArray(value)) return true;\n  if (valObjectDef.validateFunction) {\n    return valObjectDef.validateFunction(value, opts);\n  }\n  var failed = {};\n  var out = failed;\n  var propMock = {\n    set: function (v) {\n      out = v;\n    }\n  };\n\n  // 'failed' just something mutable that won't be === anything else\n\n  valObjectDef.coerceFunction(value, propMock, failed, opts);\n  return out !== failed;\n}\nexports.validate = validate;","map":{"version":3,"names":["isNumeric","require","tinycolor","baseTraceAttrs","colorscales","Color","DESELECTDIM","nestedProperty","counterRegex","counter","modHalf","isArrayOrTypedArray","exports","valObjectMeta","data_array","description","join","requiredOpts","otherOpts","coerceFunction","v","propOut","dflt","set","undefined","enumerated","opts","coerceNumber","values","indexOf","validateFunction","i","length","k","String","charAt","regex","RegExp","substr","test","boolean","number","min","max","integer","string","okToCoerce","strict","noBlank","color","isValid","colorlist","isColor","Array","isArray","every","colorscale","Object","keys","scales","get","angle","subplotid","flaglist","extras","vParts","split","vi","flags","splice","any","info_array","coercePart","out","propPart","valType","twoD","dimensions","items","vOut","arrayItems","arrayItems2D","innerItemsOnly","len","j","row","item","len2","vNew","freeLength","validate","coerce","containerIn","containerOut","attributes","attribute","propIn","template","_template","arrayOk","coerce2","valIn","coerceFont","attr","dfltObj","family","size","coercePattern","markerColor","hasMarkerColorscale","shape","fillmode","isOverlay","bgcolor","contrast","coerceHoverinfo","traceIn","traceOut","layoutOut","moduleAttrs","_module","attrs","hoverinfo","valObj","_dataLength","slice","coerceSelectionMarkerOpacity","marker","mo","opacity","smoDflt","usmoDflt","selected","unselected","value","valObjectDef","failed","propMock"],"sources":["/Users/lordvoldemort/django_react/second_attempt/frontend/bull_bear/node_modules/plotly.js/src/lib/coerce.js"],"sourcesContent":["'use strict';\n\nvar isNumeric = require('fast-isnumeric');\nvar tinycolor = require('tinycolor2');\n\nvar baseTraceAttrs = require('../plots/attributes');\nvar colorscales = require('../components/colorscale/scales');\nvar Color = require('../components/color');\nvar DESELECTDIM = require('../constants/interactions').DESELECTDIM;\n\nvar nestedProperty = require('./nested_property');\nvar counterRegex = require('./regex').counter;\nvar modHalf = require('./mod').modHalf;\nvar isArrayOrTypedArray = require('./array').isArrayOrTypedArray;\n\nexports.valObjectMeta = {\n    data_array: {\n        // You can use *dflt=[] to force said array to exist though.\n        description: [\n            'An {array} of data.',\n            'The value MUST be an {array}, or we ignore it.',\n            'Note that typed arrays (e.g. Float32Array) are supported.'\n        ].join(' '),\n        requiredOpts: [],\n        otherOpts: ['dflt'],\n        coerceFunction: function(v, propOut, dflt) {\n            // TODO maybe `v: {type: 'float32', vals: [/* ... */]}` also\n            if(isArrayOrTypedArray(v)) propOut.set(v);\n            else if(dflt !== undefined) propOut.set(dflt);\n        }\n    },\n    enumerated: {\n        description: [\n            'Enumerated value type. The available values are listed',\n            'in `values`.'\n        ].join(' '),\n        requiredOpts: ['values'],\n        otherOpts: ['dflt', 'coerceNumber', 'arrayOk'],\n        coerceFunction: function(v, propOut, dflt, opts) {\n            if(opts.coerceNumber) v = +v;\n            if(opts.values.indexOf(v) === -1) propOut.set(dflt);\n            else propOut.set(v);\n        },\n        validateFunction: function(v, opts) {\n            if(opts.coerceNumber) v = +v;\n\n            var values = opts.values;\n            for(var i = 0; i < values.length; i++) {\n                var k = String(values[i]);\n\n                if((k.charAt(0) === '/' && k.charAt(k.length - 1) === '/')) {\n                    var regex = new RegExp(k.substr(1, k.length - 2));\n                    if(regex.test(v)) return true;\n                } else if(v === values[i]) return true;\n            }\n            return false;\n        }\n    },\n    boolean: {\n        description: 'A boolean (true/false) value.',\n        requiredOpts: [],\n        otherOpts: ['dflt'],\n        coerceFunction: function(v, propOut, dflt) {\n            if(v === true || v === false) propOut.set(v);\n            else propOut.set(dflt);\n        }\n    },\n    number: {\n        description: [\n            'A number or a numeric value',\n            '(e.g. a number inside a string).',\n            'When applicable, values greater (less) than `max` (`min`)',\n            'are coerced to the `dflt`.'\n        ].join(' '),\n        requiredOpts: [],\n        otherOpts: ['dflt', 'min', 'max', 'arrayOk'],\n        coerceFunction: function(v, propOut, dflt, opts) {\n            if(!isNumeric(v) ||\n                    (opts.min !== undefined && v < opts.min) ||\n                    (opts.max !== undefined && v > opts.max)) {\n                propOut.set(dflt);\n            } else propOut.set(+v);\n        }\n    },\n    integer: {\n        description: [\n            'An integer or an integer inside a string.',\n            'When applicable, values greater (less) than `max` (`min`)',\n            'are coerced to the `dflt`.'\n        ].join(' '),\n        requiredOpts: [],\n        otherOpts: ['dflt', 'min', 'max', 'arrayOk'],\n        coerceFunction: function(v, propOut, dflt, opts) {\n            if(v % 1 || !isNumeric(v) ||\n                    (opts.min !== undefined && v < opts.min) ||\n                    (opts.max !== undefined && v > opts.max)) {\n                propOut.set(dflt);\n            } else propOut.set(+v);\n        }\n    },\n    string: {\n        description: [\n            'A string value.',\n            'Numbers are converted to strings except for attributes with',\n            '`strict` set to true.'\n        ].join(' '),\n        requiredOpts: [],\n        // TODO 'values shouldn't be in there (edge case: 'dash' in Scatter)\n        otherOpts: ['dflt', 'noBlank', 'strict', 'arrayOk', 'values'],\n        coerceFunction: function(v, propOut, dflt, opts) {\n            if(typeof v !== 'string') {\n                var okToCoerce = (typeof v === 'number');\n\n                if(opts.strict === true || !okToCoerce) propOut.set(dflt);\n                else propOut.set(String(v));\n            } else if(opts.noBlank && !v) propOut.set(dflt);\n            else propOut.set(v);\n        }\n    },\n    color: {\n        description: [\n            'A string describing color.',\n            'Supported formats:',\n            '- hex (e.g. \\'#d3d3d3\\')',\n            '- rgb (e.g. \\'rgb(255, 0, 0)\\')',\n            '- rgba (e.g. \\'rgb(255, 0, 0, 0.5)\\')',\n            '- hsl (e.g. \\'hsl(0, 100%, 50%)\\')',\n            '- hsv (e.g. \\'hsv(0, 100%, 100%)\\')',\n            '- named colors (full list: http://www.w3.org/TR/css3-color/#svg-color)'\n        ].join(' '),\n        requiredOpts: [],\n        otherOpts: ['dflt', 'arrayOk'],\n        coerceFunction: function(v, propOut, dflt) {\n            if(tinycolor(v).isValid()) propOut.set(v);\n            else propOut.set(dflt);\n        }\n    },\n    colorlist: {\n        description: [\n            'A list of colors.',\n            'Must be an {array} containing valid colors.',\n        ].join(' '),\n        requiredOpts: [],\n        otherOpts: ['dflt'],\n        coerceFunction: function(v, propOut, dflt) {\n            function isColor(color) {\n                return tinycolor(color).isValid();\n            }\n            if(!Array.isArray(v) || !v.length) propOut.set(dflt);\n            else if(v.every(isColor)) propOut.set(v);\n            else propOut.set(dflt);\n        }\n    },\n    colorscale: {\n        description: [\n            'A Plotly colorscale either picked by a name:',\n            '(any of', Object.keys(colorscales.scales).join(', '), ')',\n            'customized as an {array} of 2-element {arrays} where',\n            'the first element is the normalized color level value',\n            '(starting at *0* and ending at *1*),',\n            'and the second item is a valid color string.'\n        ].join(' '),\n        requiredOpts: [],\n        otherOpts: ['dflt'],\n        coerceFunction: function(v, propOut, dflt) {\n            propOut.set(colorscales.get(v, dflt));\n        }\n    },\n    angle: {\n        description: [\n            'A number (in degree) between -180 and 180.'\n        ].join(' '),\n        requiredOpts: [],\n        otherOpts: ['dflt', 'arrayOk'],\n        coerceFunction: function(v, propOut, dflt) {\n            if(v === 'auto') propOut.set('auto');\n            else if(!isNumeric(v)) propOut.set(dflt);\n            else propOut.set(modHalf(+v, 360));\n        }\n    },\n    subplotid: {\n        description: [\n            'An id string of a subplot type (given by dflt), optionally',\n            'followed by an integer >1. e.g. if dflt=\\'geo\\', we can have',\n            '\\'geo\\', \\'geo2\\', \\'geo3\\', ...'\n        ].join(' '),\n        requiredOpts: ['dflt'],\n        otherOpts: ['regex'],\n        coerceFunction: function(v, propOut, dflt, opts) {\n            var regex = opts.regex || counterRegex(dflt);\n            if(typeof v === 'string' && regex.test(v)) {\n                propOut.set(v);\n                return;\n            }\n            propOut.set(dflt);\n        },\n        validateFunction: function(v, opts) {\n            var dflt = opts.dflt;\n\n            if(v === dflt) return true;\n            if(typeof v !== 'string') return false;\n            if(counterRegex(dflt).test(v)) return true;\n\n            return false;\n        }\n    },\n    flaglist: {\n        description: [\n            'A string representing a combination of flags',\n            '(order does not matter here).',\n            'Combine any of the available `flags` with *+*.',\n            '(e.g. (\\'lines+markers\\')).',\n            'Values in `extras` cannot be combined.'\n        ].join(' '),\n        requiredOpts: ['flags'],\n        otherOpts: ['dflt', 'extras', 'arrayOk'],\n        coerceFunction: function(v, propOut, dflt, opts) {\n            if((opts.extras || []).indexOf(v) !== -1) {\n                propOut.set(v);\n                return;\n            }\n            if(typeof v !== 'string') {\n                propOut.set(dflt);\n                return;\n            }\n            var vParts = v.split('+');\n            var i = 0;\n            while(i < vParts.length) {\n                var vi = vParts[i];\n                if(opts.flags.indexOf(vi) === -1 || vParts.indexOf(vi) < i) {\n                    vParts.splice(i, 1);\n                } else i++;\n            }\n            if(!vParts.length) propOut.set(dflt);\n            else propOut.set(vParts.join('+'));\n        }\n    },\n    any: {\n        description: 'Any type.',\n        requiredOpts: [],\n        otherOpts: ['dflt', 'values', 'arrayOk'],\n        coerceFunction: function(v, propOut, dflt) {\n            if(v === undefined) propOut.set(dflt);\n            else propOut.set(v);\n        }\n    },\n    info_array: {\n        description: [\n            'An {array} of plot information.'\n        ].join(' '),\n        requiredOpts: ['items'],\n        // set `dimensions=2` for a 2D array or '1-2' for either\n        // `items` may be a single object instead of an array, in which case\n        // `freeLength` must be true.\n        // if `dimensions='1-2'` and items is a 1D array, then the value can\n        // either be a matching 1D array or an array of such matching 1D arrays\n        otherOpts: ['dflt', 'freeLength', 'dimensions'],\n        coerceFunction: function(v, propOut, dflt, opts) {\n            // simplified coerce function just for array items\n            function coercePart(v, opts, dflt) {\n                var out;\n                var propPart = {set: function(v) { out = v; }};\n\n                if(dflt === undefined) dflt = opts.dflt;\n\n                exports.valObjectMeta[opts.valType].coerceFunction(v, propPart, dflt, opts);\n\n                return out;\n            }\n\n            var twoD = opts.dimensions === 2 || (opts.dimensions === '1-2' && Array.isArray(v) && Array.isArray(v[0]));\n\n            if(!Array.isArray(v)) {\n                propOut.set(dflt);\n                return;\n            }\n\n            var items = opts.items;\n            var vOut = [];\n            var arrayItems = Array.isArray(items);\n            var arrayItems2D = arrayItems && twoD && Array.isArray(items[0]);\n            var innerItemsOnly = twoD && arrayItems && !arrayItems2D;\n            var len = (arrayItems && !innerItemsOnly) ? items.length : v.length;\n\n            var i, j, row, item, len2, vNew;\n\n            dflt = Array.isArray(dflt) ? dflt : [];\n\n            if(twoD) {\n                for(i = 0; i < len; i++) {\n                    vOut[i] = [];\n                    row = Array.isArray(v[i]) ? v[i] : [];\n                    if(innerItemsOnly) len2 = items.length;\n                    else if(arrayItems) len2 = items[i].length;\n                    else len2 = row.length;\n\n                    for(j = 0; j < len2; j++) {\n                        if(innerItemsOnly) item = items[j];\n                        else if(arrayItems) item = items[i][j];\n                        else item = items;\n\n                        vNew = coercePart(row[j], item, (dflt[i] || [])[j]);\n                        if(vNew !== undefined) vOut[i][j] = vNew;\n                    }\n                }\n            } else {\n                for(i = 0; i < len; i++) {\n                    vNew = coercePart(v[i], arrayItems ? items[i] : items, dflt[i]);\n                    if(vNew !== undefined) vOut[i] = vNew;\n                }\n            }\n\n            propOut.set(vOut);\n        },\n        validateFunction: function(v, opts) {\n            if(!Array.isArray(v)) return false;\n\n            var items = opts.items;\n            var arrayItems = Array.isArray(items);\n            var twoD = opts.dimensions === 2;\n\n            // when free length is off, input and declared lengths must match\n            if(!opts.freeLength && v.length !== items.length) return false;\n\n            // valid when all input items are valid\n            for(var i = 0; i < v.length; i++) {\n                if(twoD) {\n                    if(!Array.isArray(v[i]) || (!opts.freeLength && v[i].length !== items[i].length)) {\n                        return false;\n                    }\n                    for(var j = 0; j < v[i].length; j++) {\n                        if(!validate(v[i][j], arrayItems ? items[i][j] : items)) {\n                            return false;\n                        }\n                    }\n                } else if(!validate(v[i], arrayItems ? items[i] : items)) return false;\n            }\n\n            return true;\n        }\n    }\n};\n\n/**\n * Ensures that container[attribute] has a valid value.\n *\n * attributes[attribute] is an object with possible keys:\n * - valType: data_array, enumerated, boolean, ... as in valObjectMeta\n * - values: (enumerated only) array of allowed vals\n * - min, max: (number, integer only) inclusive bounds on allowed vals\n *      either or both may be omitted\n * - dflt: if attribute is invalid or missing, use this default\n *      if dflt is provided as an argument to lib.coerce it takes precedence\n *      as a convenience, returns the value it finally set\n */\nexports.coerce = function(containerIn, containerOut, attributes, attribute, dflt) {\n    var opts = nestedProperty(attributes, attribute).get();\n    var propIn = nestedProperty(containerIn, attribute);\n    var propOut = nestedProperty(containerOut, attribute);\n    var v = propIn.get();\n\n    var template = containerOut._template;\n    if(v === undefined && template) {\n        v = nestedProperty(template, attribute).get();\n        // already used the template value, so short-circuit the second check\n        template = 0;\n    }\n\n    if(dflt === undefined) dflt = opts.dflt;\n\n    /**\n     * arrayOk: value MAY be an array, then we do no value checking\n     * at this point, because it can be more complicated than the\n     * individual form (eg. some array vals can be numbers, even if the\n     * single values must be color strings)\n     */\n    if(opts.arrayOk && isArrayOrTypedArray(v)) {\n        propOut.set(v);\n        return v;\n    }\n\n    var coerceFunction = exports.valObjectMeta[opts.valType].coerceFunction;\n    coerceFunction(v, propOut, dflt, opts);\n\n    var out = propOut.get();\n    // in case v was provided but invalid, try the template again so it still\n    // overrides the regular default\n    if(template && out === dflt && !validate(v, opts)) {\n        v = nestedProperty(template, attribute).get();\n        coerceFunction(v, propOut, dflt, opts);\n        out = propOut.get();\n    }\n    return out;\n};\n\n/**\n * Variation on coerce\n *\n * Uses coerce to get attribute value if user input is valid,\n * returns attribute default if user input it not valid or\n * returns false if there is no user input.\n */\nexports.coerce2 = function(containerIn, containerOut, attributes, attribute, dflt) {\n    var propIn = nestedProperty(containerIn, attribute);\n    var propOut = exports.coerce(containerIn, containerOut, attributes, attribute, dflt);\n    var valIn = propIn.get();\n\n    return (valIn !== undefined && valIn !== null) ? propOut : false;\n};\n\n/*\n * Shortcut to coerce the three font attributes\n *\n * 'coerce' is a lib.coerce wrapper with implied first three arguments\n */\nexports.coerceFont = function(coerce, attr, dfltObj) {\n    var out = {};\n\n    dfltObj = dfltObj || {};\n\n    out.family = coerce(attr + '.family', dfltObj.family);\n    out.size = coerce(attr + '.size', dfltObj.size);\n    out.color = coerce(attr + '.color', dfltObj.color);\n\n    return out;\n};\n\n/*\n * Shortcut to coerce the pattern attributes\n */\nexports.coercePattern = function(coerce, attr, markerColor, hasMarkerColorscale) {\n    var shape = coerce(attr + '.shape');\n    if(shape) {\n        coerce(attr + '.solidity');\n        coerce(attr + '.size');\n        var fillmode = coerce(attr + '.fillmode');\n        var isOverlay = fillmode === 'overlay';\n\n        if(!hasMarkerColorscale) {\n            var bgcolor = coerce(attr + '.bgcolor', isOverlay ?\n                markerColor :\n                undefined\n            );\n\n            coerce(attr + '.fgcolor', isOverlay ?\n                Color.contrast(bgcolor) :\n                markerColor\n            );\n        }\n\n        coerce(attr + '.fgopacity', isOverlay ?\n            0.5 :\n            1\n        );\n    }\n};\n\n/** Coerce shortcut for 'hoverinfo'\n * handling 1-vs-multi-trace dflt logic\n *\n * @param {object} traceIn : user trace object\n * @param {object} traceOut : full trace object (requires _module ref)\n * @param {object} layoutOut : full layout object (require _dataLength ref)\n * @return {any} : the coerced value\n */\nexports.coerceHoverinfo = function(traceIn, traceOut, layoutOut) {\n    var moduleAttrs = traceOut._module.attributes;\n    var attrs = moduleAttrs.hoverinfo ? moduleAttrs : baseTraceAttrs;\n\n    var valObj = attrs.hoverinfo;\n    var dflt;\n\n    if(layoutOut._dataLength === 1) {\n        var flags = valObj.dflt === 'all' ?\n            valObj.flags.slice() :\n            valObj.dflt.split('+');\n\n        flags.splice(flags.indexOf('name'), 1);\n        dflt = flags.join('+');\n    }\n\n    return exports.coerce(traceIn, traceOut, attrs, 'hoverinfo', dflt);\n};\n\n/** Coerce shortcut for [un]selected.marker.opacity,\n *  which has special default logic, to ensure that it corresponds to the\n *  default selection behavior while allowing to be overtaken by any other\n *  [un]selected attribute.\n *\n *  N.B. This must be called *after* coercing all the other [un]selected attrs,\n *  to give the intended result.\n *\n * @param {object} traceOut : fullData item\n * @param {function} coerce : lib.coerce wrapper with implied first three arguments\n */\nexports.coerceSelectionMarkerOpacity = function(traceOut, coerce) {\n    if(!traceOut.marker) return;\n\n    var mo = traceOut.marker.opacity;\n    // you can still have a `marker` container with no markers if there's text\n    if(mo === undefined) return;\n\n    var smoDflt;\n    var usmoDflt;\n\n    // Don't give [un]selected.marker.opacity a default value if\n    // marker.opacity is an array: handle this during style step.\n    //\n    // Only give [un]selected.marker.opacity a default value if you don't\n    // set any other [un]selected attributes.\n    if(!isArrayOrTypedArray(mo) && !traceOut.selected && !traceOut.unselected) {\n        smoDflt = mo;\n        usmoDflt = DESELECTDIM * mo;\n    }\n\n    coerce('selected.marker.opacity', smoDflt);\n    coerce('unselected.marker.opacity', usmoDflt);\n};\n\nfunction validate(value, opts) {\n    var valObjectDef = exports.valObjectMeta[opts.valType];\n\n    if(opts.arrayOk && isArrayOrTypedArray(value)) return true;\n\n    if(valObjectDef.validateFunction) {\n        return valObjectDef.validateFunction(value, opts);\n    }\n\n    var failed = {};\n    var out = failed;\n    var propMock = { set: function(v) { out = v; } };\n\n    // 'failed' just something mutable that won't be === anything else\n\n    valObjectDef.coerceFunction(value, propMock, failed, opts);\n    return out !== failed;\n}\nexports.validate = validate;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}