{"ast":null,"code":"'use strict';\n\nvar d3 = require('@plotly/d3');\nvar Lib = require('../../lib');\nvar numberFormat = Lib.numberFormat;\nvar render = require('./render');\nvar Fx = require('../../components/fx');\nvar Color = require('../../components/color');\nvar cn = require('./constants').cn;\nvar _ = Lib._;\nfunction renderableValuePresent(d) {\n  return d !== '';\n}\nfunction ownTrace(selection, d) {\n  return selection.filter(function (s) {\n    return s.key === d.traceId;\n  });\n}\nfunction makeTranslucent(element, alpha) {\n  d3.select(element).select('path').style('fill-opacity', alpha);\n  d3.select(element).select('rect').style('fill-opacity', alpha);\n}\nfunction makeTextContrasty(element) {\n  d3.select(element).select('text.name').style('fill', 'black');\n}\nfunction relatedLinks(d) {\n  return function (l) {\n    return d.node.sourceLinks.indexOf(l.link) !== -1 || d.node.targetLinks.indexOf(l.link) !== -1;\n  };\n}\nfunction relatedNodes(l) {\n  return function (d) {\n    return d.node.sourceLinks.indexOf(l.link) !== -1 || d.node.targetLinks.indexOf(l.link) !== -1;\n  };\n}\nfunction nodeHoveredStyle(sankeyNode, d, sankey) {\n  if (d && sankey) {\n    ownTrace(sankey, d).selectAll('.' + cn.sankeyLink).filter(relatedLinks(d)).call(linkHoveredStyle.bind(0, d, sankey, false));\n  }\n}\nfunction nodeNonHoveredStyle(sankeyNode, d, sankey) {\n  if (d && sankey) {\n    ownTrace(sankey, d).selectAll('.' + cn.sankeyLink).filter(relatedLinks(d)).call(linkNonHoveredStyle.bind(0, d, sankey, false));\n  }\n}\nfunction linkHoveredStyle(d, sankey, visitNodes, sankeyLink) {\n  var label = sankeyLink.datum().link.label;\n  sankeyLink.style('fill-opacity', function (l) {\n    if (!l.link.concentrationscale) {\n      return 0.4;\n    }\n  });\n  if (label) {\n    ownTrace(sankey, d).selectAll('.' + cn.sankeyLink).filter(function (l) {\n      return l.link.label === label;\n    }).style('fill-opacity', function (l) {\n      if (!l.link.concentrationscale) {\n        return 0.4;\n      }\n    });\n  }\n  if (visitNodes) {\n    ownTrace(sankey, d).selectAll('.' + cn.sankeyNode).filter(relatedNodes(d)).call(nodeHoveredStyle);\n  }\n}\nfunction linkNonHoveredStyle(d, sankey, visitNodes, sankeyLink) {\n  var label = sankeyLink.datum().link.label;\n  sankeyLink.style('fill-opacity', function (d) {\n    return d.tinyColorAlpha;\n  });\n  if (label) {\n    ownTrace(sankey, d).selectAll('.' + cn.sankeyLink).filter(function (l) {\n      return l.link.label === label;\n    }).style('fill-opacity', function (d) {\n      return d.tinyColorAlpha;\n    });\n  }\n  if (visitNodes) {\n    ownTrace(sankey, d).selectAll(cn.sankeyNode).filter(relatedNodes(d)).call(nodeNonHoveredStyle);\n  }\n}\n\n// does not support array values for now\nfunction castHoverOption(trace, attr) {\n  var labelOpts = trace.hoverlabel || {};\n  var val = Lib.nestedProperty(labelOpts, attr).get();\n  return Array.isArray(val) ? false : val;\n}\nmodule.exports = function plot(gd, calcData) {\n  var fullLayout = gd._fullLayout;\n  var svg = fullLayout._paper;\n  var size = fullLayout._size;\n\n  // stash initial view\n  for (var i = 0; i < gd._fullData.length; i++) {\n    if (!gd._fullData[i].visible) continue;\n    if (gd._fullData[i].type !== cn.sankey) continue;\n    if (!gd._fullData[i]._viewInitial) {\n      var node = gd._fullData[i].node;\n      gd._fullData[i]._viewInitial = {\n        node: {\n          groups: node.groups.slice(),\n          x: node.x.slice(),\n          y: node.y.slice()\n        }\n      };\n    }\n  }\n  var linkSelect = function (element, d) {\n    var evt = d.link;\n    evt.originalEvent = d3.event;\n    gd._hoverdata = [evt];\n    Fx.click(gd, {\n      target: true\n    });\n  };\n  var linkHover = function (element, d, sankey) {\n    if (gd._fullLayout.hovermode === false) return;\n    d3.select(element).call(linkHoveredStyle.bind(0, d, sankey, true));\n    if (d.link.trace.link.hoverinfo !== 'skip') {\n      d.link.fullData = d.link.trace;\n      gd.emit('plotly_hover', {\n        event: d3.event,\n        points: [d.link]\n      });\n    }\n  };\n  var sourceLabel = _(gd, 'source:') + ' ';\n  var targetLabel = _(gd, 'target:') + ' ';\n  var concentrationLabel = _(gd, 'concentration:') + ' ';\n  var incomingLabel = _(gd, 'incoming flow count:') + ' ';\n  var outgoingLabel = _(gd, 'outgoing flow count:') + ' ';\n  var linkHoverFollow = function (element, d) {\n    if (gd._fullLayout.hovermode === false) return;\n    var obj = d.link.trace.link;\n    if (obj.hoverinfo === 'none' || obj.hoverinfo === 'skip') return;\n    var hoverItems = [];\n    function hoverCenterPosition(link) {\n      var hoverCenterX, hoverCenterY;\n      if (link.circular) {\n        hoverCenterX = (link.circularPathData.leftInnerExtent + link.circularPathData.rightInnerExtent) / 2;\n        hoverCenterY = link.circularPathData.verticalFullExtent;\n      } else {\n        hoverCenterX = (link.source.x1 + link.target.x0) / 2;\n        hoverCenterY = (link.y0 + link.y1) / 2;\n      }\n      var center = [hoverCenterX, hoverCenterY];\n      if (link.trace.orientation === 'v') center.reverse();\n      center[0] += d.parent.translateX;\n      center[1] += d.parent.translateY;\n      return center;\n    }\n\n    // For each related links, create a hoverItem\n    var anchorIndex = 0;\n    for (var i = 0; i < d.flow.links.length; i++) {\n      var link = d.flow.links[i];\n      if (gd._fullLayout.hovermode === 'closest' && d.link.pointNumber !== link.pointNumber) continue;\n      if (d.link.pointNumber === link.pointNumber) anchorIndex = i;\n      link.fullData = link.trace;\n      obj = d.link.trace.link;\n      var hoverCenter = hoverCenterPosition(link);\n      var hovertemplateLabels = {\n        valueLabel: numberFormat(d.valueFormat)(link.value) + d.valueSuffix\n      };\n      hoverItems.push({\n        x: hoverCenter[0],\n        y: hoverCenter[1],\n        name: hovertemplateLabels.valueLabel,\n        text: [link.label || '', sourceLabel + link.source.label, targetLabel + link.target.label, link.concentrationscale ? concentrationLabel + numberFormat('%0.2f')(link.flow.labelConcentration) : ''].filter(renderableValuePresent).join('<br>'),\n        color: castHoverOption(obj, 'bgcolor') || Color.addOpacity(link.color, 1),\n        borderColor: castHoverOption(obj, 'bordercolor'),\n        fontFamily: castHoverOption(obj, 'font.family'),\n        fontSize: castHoverOption(obj, 'font.size'),\n        fontColor: castHoverOption(obj, 'font.color'),\n        nameLength: castHoverOption(obj, 'namelength'),\n        textAlign: castHoverOption(obj, 'align'),\n        idealAlign: d3.event.x < hoverCenter[0] ? 'right' : 'left',\n        hovertemplate: obj.hovertemplate,\n        hovertemplateLabels: hovertemplateLabels,\n        eventData: [link]\n      });\n    }\n    var tooltips = Fx.loneHover(hoverItems, {\n      container: fullLayout._hoverlayer.node(),\n      outerContainer: fullLayout._paper.node(),\n      gd: gd,\n      anchorIndex: anchorIndex\n    });\n    tooltips.each(function () {\n      var tooltip = this;\n      if (!d.link.concentrationscale) {\n        makeTranslucent(tooltip, 0.65);\n      }\n      makeTextContrasty(tooltip);\n    });\n  };\n  var linkUnhover = function (element, d, sankey) {\n    if (gd._fullLayout.hovermode === false) return;\n    d3.select(element).call(linkNonHoveredStyle.bind(0, d, sankey, true));\n    if (d.link.trace.link.hoverinfo !== 'skip') {\n      d.link.fullData = d.link.trace;\n      gd.emit('plotly_unhover', {\n        event: d3.event,\n        points: [d.link]\n      });\n    }\n    Fx.loneUnhover(fullLayout._hoverlayer.node());\n  };\n  var nodeSelect = function (element, d, sankey) {\n    var evt = d.node;\n    evt.originalEvent = d3.event;\n    gd._hoverdata = [evt];\n    d3.select(element).call(nodeNonHoveredStyle, d, sankey);\n    Fx.click(gd, {\n      target: true\n    });\n  };\n  var nodeHover = function (element, d, sankey) {\n    if (gd._fullLayout.hovermode === false) return;\n    d3.select(element).call(nodeHoveredStyle, d, sankey);\n    if (d.node.trace.node.hoverinfo !== 'skip') {\n      d.node.fullData = d.node.trace;\n      gd.emit('plotly_hover', {\n        event: d3.event,\n        points: [d.node]\n      });\n    }\n  };\n  var nodeHoverFollow = function (element, d) {\n    if (gd._fullLayout.hovermode === false) return;\n    var obj = d.node.trace.node;\n    if (obj.hoverinfo === 'none' || obj.hoverinfo === 'skip') return;\n    var nodeRect = d3.select(element).select('.' + cn.nodeRect);\n    var rootBBox = gd._fullLayout._paperdiv.node().getBoundingClientRect();\n    var boundingBox = nodeRect.node().getBoundingClientRect();\n    var hoverCenterX0 = boundingBox.left - 2 - rootBBox.left;\n    var hoverCenterX1 = boundingBox.right + 2 - rootBBox.left;\n    var hoverCenterY = boundingBox.top + boundingBox.height / 4 - rootBBox.top;\n    var hovertemplateLabels = {\n      valueLabel: numberFormat(d.valueFormat)(d.node.value) + d.valueSuffix\n    };\n    d.node.fullData = d.node.trace;\n    gd._fullLayout._calcInverseTransform(gd);\n    var scaleX = gd._fullLayout._invScaleX;\n    var scaleY = gd._fullLayout._invScaleY;\n    var tooltip = Fx.loneHover({\n      x0: scaleX * hoverCenterX0,\n      x1: scaleX * hoverCenterX1,\n      y: scaleY * hoverCenterY,\n      name: numberFormat(d.valueFormat)(d.node.value) + d.valueSuffix,\n      text: [d.node.label, incomingLabel + d.node.targetLinks.length, outgoingLabel + d.node.sourceLinks.length].filter(renderableValuePresent).join('<br>'),\n      color: castHoverOption(obj, 'bgcolor') || d.tinyColorHue,\n      borderColor: castHoverOption(obj, 'bordercolor'),\n      fontFamily: castHoverOption(obj, 'font.family'),\n      fontSize: castHoverOption(obj, 'font.size'),\n      fontColor: castHoverOption(obj, 'font.color'),\n      nameLength: castHoverOption(obj, 'namelength'),\n      textAlign: castHoverOption(obj, 'align'),\n      idealAlign: 'left',\n      hovertemplate: obj.hovertemplate,\n      hovertemplateLabels: hovertemplateLabels,\n      eventData: [d.node]\n    }, {\n      container: fullLayout._hoverlayer.node(),\n      outerContainer: fullLayout._paper.node(),\n      gd: gd\n    });\n    makeTranslucent(tooltip, 0.85);\n    makeTextContrasty(tooltip);\n  };\n  var nodeUnhover = function (element, d, sankey) {\n    if (gd._fullLayout.hovermode === false) return;\n    d3.select(element).call(nodeNonHoveredStyle, d, sankey);\n    if (d.node.trace.node.hoverinfo !== 'skip') {\n      d.node.fullData = d.node.trace;\n      gd.emit('plotly_unhover', {\n        event: d3.event,\n        points: [d.node]\n      });\n    }\n    Fx.loneUnhover(fullLayout._hoverlayer.node());\n  };\n  render(gd, svg, calcData, {\n    width: size.w,\n    height: size.h,\n    margin: {\n      t: size.t,\n      r: size.r,\n      b: size.b,\n      l: size.l\n    }\n  }, {\n    linkEvents: {\n      hover: linkHover,\n      follow: linkHoverFollow,\n      unhover: linkUnhover,\n      select: linkSelect\n    },\n    nodeEvents: {\n      hover: nodeHover,\n      follow: nodeHoverFollow,\n      unhover: nodeUnhover,\n      select: nodeSelect\n    }\n  });\n};","map":{"version":3,"names":["d3","require","Lib","numberFormat","render","Fx","Color","cn","_","renderableValuePresent","d","ownTrace","selection","filter","s","key","traceId","makeTranslucent","element","alpha","select","style","makeTextContrasty","relatedLinks","l","node","sourceLinks","indexOf","link","targetLinks","relatedNodes","nodeHoveredStyle","sankeyNode","sankey","selectAll","sankeyLink","call","linkHoveredStyle","bind","nodeNonHoveredStyle","linkNonHoveredStyle","visitNodes","label","datum","concentrationscale","tinyColorAlpha","castHoverOption","trace","attr","labelOpts","hoverlabel","val","nestedProperty","get","Array","isArray","module","exports","plot","gd","calcData","fullLayout","_fullLayout","svg","_paper","size","_size","i","_fullData","length","visible","type","_viewInitial","groups","slice","x","y","linkSelect","evt","originalEvent","event","_hoverdata","click","target","linkHover","hovermode","hoverinfo","fullData","emit","points","sourceLabel","targetLabel","concentrationLabel","incomingLabel","outgoingLabel","linkHoverFollow","obj","hoverItems","hoverCenterPosition","hoverCenterX","hoverCenterY","circular","circularPathData","leftInnerExtent","rightInnerExtent","verticalFullExtent","source","x1","x0","y0","y1","center","orientation","reverse","parent","translateX","translateY","anchorIndex","flow","links","pointNumber","hoverCenter","hovertemplateLabels","valueLabel","valueFormat","value","valueSuffix","push","name","text","labelConcentration","join","color","addOpacity","borderColor","fontFamily","fontSize","fontColor","nameLength","textAlign","idealAlign","hovertemplate","eventData","tooltips","loneHover","container","_hoverlayer","outerContainer","each","tooltip","linkUnhover","loneUnhover","nodeSelect","nodeHover","nodeHoverFollow","nodeRect","rootBBox","_paperdiv","getBoundingClientRect","boundingBox","hoverCenterX0","left","hoverCenterX1","right","top","height","_calcInverseTransform","scaleX","_invScaleX","scaleY","_invScaleY","tinyColorHue","nodeUnhover","width","w","h","margin","t","r","b","linkEvents","hover","follow","unhover","nodeEvents"],"sources":["/Users/lordvoldemort/django_react/second_attempt/frontend/bull_bear/node_modules/plotly.js/src/traces/sankey/plot.js"],"sourcesContent":["'use strict';\n\nvar d3 = require('@plotly/d3');\nvar Lib = require('../../lib');\nvar numberFormat = Lib.numberFormat;\nvar render = require('./render');\nvar Fx = require('../../components/fx');\nvar Color = require('../../components/color');\nvar cn = require('./constants').cn;\n\nvar _ = Lib._;\n\nfunction renderableValuePresent(d) {return d !== '';}\n\nfunction ownTrace(selection, d) {\n    return selection.filter(function(s) {return s.key === d.traceId;});\n}\n\nfunction makeTranslucent(element, alpha) {\n    d3.select(element)\n        .select('path')\n        .style('fill-opacity', alpha);\n    d3.select(element)\n        .select('rect')\n        .style('fill-opacity', alpha);\n}\n\nfunction makeTextContrasty(element) {\n    d3.select(element)\n        .select('text.name')\n        .style('fill', 'black');\n}\n\nfunction relatedLinks(d) {\n    return function(l) {\n        return d.node.sourceLinks.indexOf(l.link) !== -1 || d.node.targetLinks.indexOf(l.link) !== -1;\n    };\n}\n\nfunction relatedNodes(l) {\n    return function(d) {\n        return d.node.sourceLinks.indexOf(l.link) !== -1 || d.node.targetLinks.indexOf(l.link) !== -1;\n    };\n}\n\nfunction nodeHoveredStyle(sankeyNode, d, sankey) {\n    if(d && sankey) {\n        ownTrace(sankey, d)\n            .selectAll('.' + cn.sankeyLink)\n            .filter(relatedLinks(d))\n            .call(linkHoveredStyle.bind(0, d, sankey, false));\n    }\n}\n\nfunction nodeNonHoveredStyle(sankeyNode, d, sankey) {\n    if(d && sankey) {\n        ownTrace(sankey, d)\n            .selectAll('.' + cn.sankeyLink)\n            .filter(relatedLinks(d))\n            .call(linkNonHoveredStyle.bind(0, d, sankey, false));\n    }\n}\n\nfunction linkHoveredStyle(d, sankey, visitNodes, sankeyLink) {\n    var label = sankeyLink.datum().link.label;\n\n    sankeyLink.style('fill-opacity', function(l) {\n        if(!l.link.concentrationscale) {\n            return 0.4;\n        }\n    });\n\n    if(label) {\n        ownTrace(sankey, d)\n            .selectAll('.' + cn.sankeyLink)\n            .filter(function(l) {return l.link.label === label;})\n            .style('fill-opacity', function(l) {\n                if(!l.link.concentrationscale) {\n                    return 0.4;\n                }\n            });\n    }\n\n    if(visitNodes) {\n        ownTrace(sankey, d)\n            .selectAll('.' + cn.sankeyNode)\n            .filter(relatedNodes(d))\n            .call(nodeHoveredStyle);\n    }\n}\n\nfunction linkNonHoveredStyle(d, sankey, visitNodes, sankeyLink) {\n    var label = sankeyLink.datum().link.label;\n\n    sankeyLink.style('fill-opacity', function(d) {return d.tinyColorAlpha;});\n    if(label) {\n        ownTrace(sankey, d)\n            .selectAll('.' + cn.sankeyLink)\n            .filter(function(l) {return l.link.label === label;})\n            .style('fill-opacity', function(d) {return d.tinyColorAlpha;});\n    }\n\n    if(visitNodes) {\n        ownTrace(sankey, d)\n            .selectAll(cn.sankeyNode)\n            .filter(relatedNodes(d))\n            .call(nodeNonHoveredStyle);\n    }\n}\n\n// does not support array values for now\nfunction castHoverOption(trace, attr) {\n    var labelOpts = trace.hoverlabel || {};\n    var val = Lib.nestedProperty(labelOpts, attr).get();\n    return Array.isArray(val) ? false : val;\n}\n\nmodule.exports = function plot(gd, calcData) {\n    var fullLayout = gd._fullLayout;\n    var svg = fullLayout._paper;\n    var size = fullLayout._size;\n\n    // stash initial view\n    for(var i = 0; i < gd._fullData.length; i++) {\n        if(!gd._fullData[i].visible) continue;\n        if(gd._fullData[i].type !== cn.sankey) continue;\n        if(!gd._fullData[i]._viewInitial) {\n            var node = gd._fullData[i].node;\n            gd._fullData[i]._viewInitial = {\n                node: {\n                    groups: node.groups.slice(),\n                    x: node.x.slice(),\n                    y: node.y.slice()\n                }\n            };\n        }\n    }\n\n    var linkSelect = function(element, d) {\n        var evt = d.link;\n        evt.originalEvent = d3.event;\n        gd._hoverdata = [evt];\n        Fx.click(gd, { target: true });\n    };\n\n    var linkHover = function(element, d, sankey) {\n        if(gd._fullLayout.hovermode === false) return;\n        d3.select(element).call(linkHoveredStyle.bind(0, d, sankey, true));\n        if(d.link.trace.link.hoverinfo !== 'skip') {\n            d.link.fullData = d.link.trace;\n            gd.emit('plotly_hover', {\n                event: d3.event,\n                points: [d.link]\n            });\n        }\n    };\n\n    var sourceLabel = _(gd, 'source:') + ' ';\n    var targetLabel = _(gd, 'target:') + ' ';\n    var concentrationLabel = _(gd, 'concentration:') + ' ';\n    var incomingLabel = _(gd, 'incoming flow count:') + ' ';\n    var outgoingLabel = _(gd, 'outgoing flow count:') + ' ';\n\n    var linkHoverFollow = function(element, d) {\n        if(gd._fullLayout.hovermode === false) return;\n        var obj = d.link.trace.link;\n        if(obj.hoverinfo === 'none' || obj.hoverinfo === 'skip') return;\n\n        var hoverItems = [];\n\n        function hoverCenterPosition(link) {\n            var hoverCenterX, hoverCenterY;\n            if(link.circular) {\n                hoverCenterX = (link.circularPathData.leftInnerExtent + link.circularPathData.rightInnerExtent) / 2;\n                hoverCenterY = link.circularPathData.verticalFullExtent;\n            } else {\n                hoverCenterX = (link.source.x1 + link.target.x0) / 2;\n                hoverCenterY = (link.y0 + link.y1) / 2;\n            }\n            var center = [hoverCenterX, hoverCenterY];\n            if(link.trace.orientation === 'v') center.reverse();\n            center[0] += d.parent.translateX;\n            center[1] += d.parent.translateY;\n            return center;\n        }\n\n        // For each related links, create a hoverItem\n        var anchorIndex = 0;\n        for(var i = 0; i < d.flow.links.length; i++) {\n            var link = d.flow.links[i];\n            if(gd._fullLayout.hovermode === 'closest' && d.link.pointNumber !== link.pointNumber) continue;\n            if(d.link.pointNumber === link.pointNumber) anchorIndex = i;\n            link.fullData = link.trace;\n            obj = d.link.trace.link;\n            var hoverCenter = hoverCenterPosition(link);\n            var hovertemplateLabels = {valueLabel: numberFormat(d.valueFormat)(link.value) + d.valueSuffix};\n\n            hoverItems.push({\n                x: hoverCenter[0],\n                y: hoverCenter[1],\n                name: hovertemplateLabels.valueLabel,\n                text: [\n                    link.label || '',\n                    sourceLabel + link.source.label,\n                    targetLabel + link.target.label,\n                    link.concentrationscale ? concentrationLabel + numberFormat('%0.2f')(link.flow.labelConcentration) : ''\n                ].filter(renderableValuePresent).join('<br>'),\n                color: castHoverOption(obj, 'bgcolor') || Color.addOpacity(link.color, 1),\n                borderColor: castHoverOption(obj, 'bordercolor'),\n                fontFamily: castHoverOption(obj, 'font.family'),\n                fontSize: castHoverOption(obj, 'font.size'),\n                fontColor: castHoverOption(obj, 'font.color'),\n                nameLength: castHoverOption(obj, 'namelength'),\n                textAlign: castHoverOption(obj, 'align'),\n                idealAlign: d3.event.x < hoverCenter[0] ? 'right' : 'left',\n\n                hovertemplate: obj.hovertemplate,\n                hovertemplateLabels: hovertemplateLabels,\n                eventData: [link]\n            });\n        }\n\n        var tooltips = Fx.loneHover(hoverItems, {\n            container: fullLayout._hoverlayer.node(),\n            outerContainer: fullLayout._paper.node(),\n            gd: gd,\n            anchorIndex: anchorIndex\n        });\n\n        tooltips.each(function() {\n            var tooltip = this;\n            if(!d.link.concentrationscale) {\n                makeTranslucent(tooltip, 0.65);\n            }\n            makeTextContrasty(tooltip);\n        });\n    };\n\n    var linkUnhover = function(element, d, sankey) {\n        if(gd._fullLayout.hovermode === false) return;\n        d3.select(element).call(linkNonHoveredStyle.bind(0, d, sankey, true));\n        if(d.link.trace.link.hoverinfo !== 'skip') {\n            d.link.fullData = d.link.trace;\n            gd.emit('plotly_unhover', {\n                event: d3.event,\n                points: [d.link]\n            });\n        }\n\n        Fx.loneUnhover(fullLayout._hoverlayer.node());\n    };\n\n    var nodeSelect = function(element, d, sankey) {\n        var evt = d.node;\n        evt.originalEvent = d3.event;\n        gd._hoverdata = [evt];\n        d3.select(element).call(nodeNonHoveredStyle, d, sankey);\n        Fx.click(gd, { target: true });\n    };\n\n    var nodeHover = function(element, d, sankey) {\n        if(gd._fullLayout.hovermode === false) return;\n        d3.select(element).call(nodeHoveredStyle, d, sankey);\n        if(d.node.trace.node.hoverinfo !== 'skip') {\n            d.node.fullData = d.node.trace;\n            gd.emit('plotly_hover', {\n                event: d3.event,\n                points: [d.node]\n            });\n        }\n    };\n\n    var nodeHoverFollow = function(element, d) {\n        if(gd._fullLayout.hovermode === false) return;\n\n        var obj = d.node.trace.node;\n        if(obj.hoverinfo === 'none' || obj.hoverinfo === 'skip') return;\n        var nodeRect = d3.select(element).select('.' + cn.nodeRect);\n        var rootBBox = gd._fullLayout._paperdiv.node().getBoundingClientRect();\n        var boundingBox = nodeRect.node().getBoundingClientRect();\n        var hoverCenterX0 = boundingBox.left - 2 - rootBBox.left;\n        var hoverCenterX1 = boundingBox.right + 2 - rootBBox.left;\n        var hoverCenterY = boundingBox.top + boundingBox.height / 4 - rootBBox.top;\n\n        var hovertemplateLabels = {valueLabel: numberFormat(d.valueFormat)(d.node.value) + d.valueSuffix};\n        d.node.fullData = d.node.trace;\n\n        gd._fullLayout._calcInverseTransform(gd);\n        var scaleX = gd._fullLayout._invScaleX;\n        var scaleY = gd._fullLayout._invScaleY;\n\n        var tooltip = Fx.loneHover({\n            x0: scaleX * hoverCenterX0,\n            x1: scaleX * hoverCenterX1,\n            y: scaleY * hoverCenterY,\n            name: numberFormat(d.valueFormat)(d.node.value) + d.valueSuffix,\n            text: [\n                d.node.label,\n                incomingLabel + d.node.targetLinks.length,\n                outgoingLabel + d.node.sourceLinks.length\n            ].filter(renderableValuePresent).join('<br>'),\n            color: castHoverOption(obj, 'bgcolor') || d.tinyColorHue,\n            borderColor: castHoverOption(obj, 'bordercolor'),\n            fontFamily: castHoverOption(obj, 'font.family'),\n            fontSize: castHoverOption(obj, 'font.size'),\n            fontColor: castHoverOption(obj, 'font.color'),\n            nameLength: castHoverOption(obj, 'namelength'),\n            textAlign: castHoverOption(obj, 'align'),\n            idealAlign: 'left',\n\n            hovertemplate: obj.hovertemplate,\n            hovertemplateLabels: hovertemplateLabels,\n            eventData: [d.node]\n        }, {\n            container: fullLayout._hoverlayer.node(),\n            outerContainer: fullLayout._paper.node(),\n            gd: gd\n        });\n\n        makeTranslucent(tooltip, 0.85);\n        makeTextContrasty(tooltip);\n    };\n\n    var nodeUnhover = function(element, d, sankey) {\n        if(gd._fullLayout.hovermode === false) return;\n        d3.select(element).call(nodeNonHoveredStyle, d, sankey);\n        if(d.node.trace.node.hoverinfo !== 'skip') {\n            d.node.fullData = d.node.trace;\n            gd.emit('plotly_unhover', {\n                event: d3.event,\n                points: [d.node]\n            });\n        }\n\n        Fx.loneUnhover(fullLayout._hoverlayer.node());\n    };\n\n    render(\n        gd,\n        svg,\n        calcData,\n        {\n            width: size.w,\n            height: size.h,\n            margin: {\n                t: size.t,\n                r: size.r,\n                b: size.b,\n                l: size.l\n            }\n        },\n        {\n            linkEvents: {\n                hover: linkHover,\n                follow: linkHoverFollow,\n                unhover: linkUnhover,\n                select: linkSelect\n            },\n            nodeEvents: {\n                hover: nodeHover,\n                follow: nodeHoverFollow,\n                unhover: nodeUnhover,\n                select: nodeSelect\n            }\n        }\n    );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}