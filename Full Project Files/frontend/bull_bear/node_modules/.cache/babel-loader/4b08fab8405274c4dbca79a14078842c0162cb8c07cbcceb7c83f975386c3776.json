{"ast":null,"code":"'use strict';\n\nvar Registry = require('../../registry');\nvar Lib = require('../../lib');\nvar Template = require('../../plot_api/plot_template');\nvar plotsAttrs = require('../../plots/attributes');\nvar attributes = require('./attributes');\nvar basePlotLayoutAttributes = require('../../plots/layout_attributes');\nvar helpers = require('./helpers');\nmodule.exports = function legendDefaults(layoutIn, layoutOut, fullData) {\n  var containerIn = layoutIn.legend || {};\n  var containerOut = Template.newContainer(layoutOut, 'legend');\n  function coerce(attr, dflt) {\n    return Lib.coerce(containerIn, containerOut, attributes, attr, dflt);\n  }\n  var trace;\n  var traceCoerce = function (attr, dflt) {\n    var traceIn = trace._input;\n    var traceOut = trace;\n    return Lib.coerce(traceIn, traceOut, plotsAttrs, attr, dflt);\n  };\n  var globalFont = layoutOut.font || {};\n  var grouptitlefont = Lib.coerceFont(coerce, 'grouptitlefont', Lib.extendFlat({}, globalFont, {\n    size: Math.round(globalFont.size * 1.1)\n  }));\n  var legendTraceCount = 0;\n  var legendReallyHasATrace = false;\n  var defaultOrder = 'normal';\n  for (var i = 0; i < fullData.length; i++) {\n    trace = fullData[i];\n    if (!trace.visible) continue;\n\n    // Note that we explicitly count any trace that is either shown or\n    // *would* be shown by default, toward the two traces you need to\n    // ensure the legend is shown by default, because this can still help\n    // disambiguate.\n    if (trace.showlegend || trace._dfltShowLegend && !(trace._module && trace._module.attributes && trace._module.attributes.showlegend && trace._module.attributes.showlegend.dflt === false)) {\n      legendTraceCount++;\n      if (trace.showlegend) {\n        legendReallyHasATrace = true;\n        // Always show the legend by default if there's a pie,\n        // or if there's only one trace but it's explicitly shown\n        if (Registry.traceIs(trace, 'pie-like') || trace._input.showlegend === true) {\n          legendTraceCount++;\n        }\n      }\n      Lib.coerceFont(traceCoerce, 'legendgrouptitle.font', grouptitlefont);\n    }\n    if (Registry.traceIs(trace, 'bar') && layoutOut.barmode === 'stack' || ['tonextx', 'tonexty'].indexOf(trace.fill) !== -1) {\n      defaultOrder = helpers.isGrouped({\n        traceorder: defaultOrder\n      }) ? 'grouped+reversed' : 'reversed';\n    }\n    if (trace.legendgroup !== undefined && trace.legendgroup !== '') {\n      defaultOrder = helpers.isReversed({\n        traceorder: defaultOrder\n      }) ? 'reversed+grouped' : 'grouped';\n    }\n  }\n  var showLegend = Lib.coerce(layoutIn, layoutOut, basePlotLayoutAttributes, 'showlegend', legendReallyHasATrace && legendTraceCount > 1);\n\n  // delete legend\n  if (showLegend === false) layoutOut.legend = undefined;\n  if (showLegend === false && !containerIn.uirevision) return;\n  coerce('uirevision', layoutOut.uirevision);\n  if (showLegend === false) return;\n  coerce('bgcolor', layoutOut.paper_bgcolor);\n  coerce('bordercolor');\n  coerce('borderwidth');\n  var itemFont = Lib.coerceFont(coerce, 'font', layoutOut.font);\n  var orientation = coerce('orientation');\n  var isHorizontal = orientation === 'h';\n  var defaultX, defaultY, defaultYAnchor;\n  if (isHorizontal) {\n    defaultX = 0;\n    if (Registry.getComponentMethod('rangeslider', 'isVisible')(layoutIn.xaxis)) {\n      defaultY = 1.1;\n      defaultYAnchor = 'bottom';\n    } else {\n      // maybe use y=1.1 / yanchor=bottom as above\n      //   to avoid https://github.com/plotly/plotly.js/issues/1199\n      //   in v3\n      defaultY = -0.1;\n      defaultYAnchor = 'top';\n    }\n  } else {\n    defaultX = 1.02;\n    defaultY = 1;\n    defaultYAnchor = 'auto';\n  }\n  coerce('traceorder', defaultOrder);\n  if (helpers.isGrouped(layoutOut.legend)) coerce('tracegroupgap');\n  coerce('entrywidth');\n  coerce('entrywidthmode');\n  coerce('itemsizing');\n  coerce('itemwidth');\n  coerce('itemclick');\n  coerce('itemdoubleclick');\n  coerce('groupclick');\n  coerce('x', defaultX);\n  coerce('xanchor');\n  coerce('y', defaultY);\n  coerce('yanchor', defaultYAnchor);\n  coerce('valign');\n  Lib.noneOrAll(containerIn, containerOut, ['x', 'y']);\n  var titleText = coerce('title.text');\n  if (titleText) {\n    coerce('title.side', isHorizontal ? 'left' : 'top');\n    var dfltTitleFont = Lib.extendFlat({}, itemFont, {\n      size: Lib.bigFont(itemFont.size)\n    });\n    Lib.coerceFont(coerce, 'title.font', dfltTitleFont);\n  }\n};","map":{"version":3,"names":["Registry","require","Lib","Template","plotsAttrs","attributes","basePlotLayoutAttributes","helpers","module","exports","legendDefaults","layoutIn","layoutOut","fullData","containerIn","legend","containerOut","newContainer","coerce","attr","dflt","trace","traceCoerce","traceIn","_input","traceOut","globalFont","font","grouptitlefont","coerceFont","extendFlat","size","Math","round","legendTraceCount","legendReallyHasATrace","defaultOrder","i","length","visible","showlegend","_dfltShowLegend","_module","traceIs","barmode","indexOf","fill","isGrouped","traceorder","legendgroup","undefined","isReversed","showLegend","uirevision","paper_bgcolor","itemFont","orientation","isHorizontal","defaultX","defaultY","defaultYAnchor","getComponentMethod","xaxis","noneOrAll","titleText","dfltTitleFont","bigFont"],"sources":["/Users/lordvoldemort/django_react/second_attempt/frontend/bull_bear/node_modules/plotly.js/src/components/legend/defaults.js"],"sourcesContent":["'use strict';\n\nvar Registry = require('../../registry');\nvar Lib = require('../../lib');\nvar Template = require('../../plot_api/plot_template');\n\nvar plotsAttrs = require('../../plots/attributes');\nvar attributes = require('./attributes');\nvar basePlotLayoutAttributes = require('../../plots/layout_attributes');\nvar helpers = require('./helpers');\n\n\nmodule.exports = function legendDefaults(layoutIn, layoutOut, fullData) {\n    var containerIn = layoutIn.legend || {};\n    var containerOut = Template.newContainer(layoutOut, 'legend');\n\n    function coerce(attr, dflt) {\n        return Lib.coerce(containerIn, containerOut, attributes, attr, dflt);\n    }\n\n    var trace;\n    var traceCoerce = function(attr, dflt) {\n        var traceIn = trace._input;\n        var traceOut = trace;\n        return Lib.coerce(traceIn, traceOut, plotsAttrs, attr, dflt);\n    };\n\n    var globalFont = layoutOut.font || {};\n    var grouptitlefont = Lib.coerceFont(coerce, 'grouptitlefont', Lib.extendFlat({}, globalFont, {\n        size: Math.round(globalFont.size * 1.1)\n    }));\n\n    var legendTraceCount = 0;\n    var legendReallyHasATrace = false;\n    var defaultOrder = 'normal';\n\n    for(var i = 0; i < fullData.length; i++) {\n        trace = fullData[i];\n\n        if(!trace.visible) continue;\n\n        // Note that we explicitly count any trace that is either shown or\n        // *would* be shown by default, toward the two traces you need to\n        // ensure the legend is shown by default, because this can still help\n        // disambiguate.\n        if(trace.showlegend || (\n            trace._dfltShowLegend && !(\n                trace._module &&\n                trace._module.attributes &&\n                trace._module.attributes.showlegend &&\n                trace._module.attributes.showlegend.dflt === false\n            )\n        )) {\n            legendTraceCount++;\n            if(trace.showlegend) {\n                legendReallyHasATrace = true;\n                // Always show the legend by default if there's a pie,\n                // or if there's only one trace but it's explicitly shown\n                if(Registry.traceIs(trace, 'pie-like') ||\n                    trace._input.showlegend === true\n                ) {\n                    legendTraceCount++;\n                }\n            }\n\n            Lib.coerceFont(traceCoerce, 'legendgrouptitle.font', grouptitlefont);\n        }\n\n        if((Registry.traceIs(trace, 'bar') && layoutOut.barmode === 'stack') ||\n                ['tonextx', 'tonexty'].indexOf(trace.fill) !== -1) {\n            defaultOrder = helpers.isGrouped({traceorder: defaultOrder}) ?\n                'grouped+reversed' : 'reversed';\n        }\n\n        if(trace.legendgroup !== undefined && trace.legendgroup !== '') {\n            defaultOrder = helpers.isReversed({traceorder: defaultOrder}) ?\n                'reversed+grouped' : 'grouped';\n        }\n    }\n\n    var showLegend = Lib.coerce(layoutIn, layoutOut,\n        basePlotLayoutAttributes, 'showlegend',\n        legendReallyHasATrace && legendTraceCount > 1);\n\n    // delete legend\n    if(showLegend === false) layoutOut.legend = undefined;\n\n    if(showLegend === false && !containerIn.uirevision) return;\n\n    coerce('uirevision', layoutOut.uirevision);\n\n    if(showLegend === false) return;\n\n    coerce('bgcolor', layoutOut.paper_bgcolor);\n    coerce('bordercolor');\n    coerce('borderwidth');\n    var itemFont = Lib.coerceFont(coerce, 'font', layoutOut.font);\n\n    var orientation = coerce('orientation');\n    var isHorizontal = orientation === 'h';\n    var defaultX, defaultY, defaultYAnchor;\n\n    if(isHorizontal) {\n        defaultX = 0;\n\n        if(Registry.getComponentMethod('rangeslider', 'isVisible')(layoutIn.xaxis)) {\n            defaultY = 1.1;\n            defaultYAnchor = 'bottom';\n        } else {\n            // maybe use y=1.1 / yanchor=bottom as above\n            //   to avoid https://github.com/plotly/plotly.js/issues/1199\n            //   in v3\n            defaultY = -0.1;\n            defaultYAnchor = 'top';\n        }\n    } else {\n        defaultX = 1.02;\n        defaultY = 1;\n        defaultYAnchor = 'auto';\n    }\n\n    coerce('traceorder', defaultOrder);\n    if(helpers.isGrouped(layoutOut.legend)) coerce('tracegroupgap');\n\n    coerce('entrywidth');\n    coerce('entrywidthmode');\n    coerce('itemsizing');\n    coerce('itemwidth');\n\n    coerce('itemclick');\n    coerce('itemdoubleclick');\n    coerce('groupclick');\n\n    coerce('x', defaultX);\n    coerce('xanchor');\n    coerce('y', defaultY);\n    coerce('yanchor', defaultYAnchor);\n    coerce('valign');\n    Lib.noneOrAll(containerIn, containerOut, ['x', 'y']);\n\n    var titleText = coerce('title.text');\n    if(titleText) {\n        coerce('title.side', isHorizontal ? 'left' : 'top');\n        var dfltTitleFont = Lib.extendFlat({}, itemFont, {\n            size: Lib.bigFont(itemFont.size)\n        });\n\n        Lib.coerceFont(coerce, 'title.font', dfltTitleFont);\n    }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}