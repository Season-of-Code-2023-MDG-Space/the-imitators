{"ast":null,"code":"import _regeneratorRuntime from\"/Users/lordvoldemort/IdeaProjects/Webdevelopment/Bulls and Bears/bull_bear/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/lordvoldemort/IdeaProjects/Webdevelopment/Bulls and Bears/bull_bear/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/lordvoldemort/IdeaProjects/Webdevelopment/Bulls and Bears/bull_bear/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";// import yfinance from \"yfinance\";\nimport NavBar from\"./NavBar\";import{Routes,Route}from\"react-router-dom\";import axios from'axios';import\"../styles/Dashboard.css\";// const STOCK_API_KEY = 'N3P0WGL6IDTJQUN4';\n// const STOCK_API_URL = \"https://www.alphavantage.co/query?function=TIME_SERIES_WEEKLY&symbol=RELIANCE.NS&apikey=N3P0WGL6IDTJQUN4\"\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Dashboard(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),stocks=_useState2[0],setStocks=_useState2[1];useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var symbols,response,text,stockData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:symbols=[\"RELIANCE\",\"TCS\",\"HDFCBANK\",\"HINDUNILVR\",\"INFY\",\"KOTAKBANK\",\"BAJFINANCE\",\"ICICIBANK\",\"AXISBANK\",\"ITC\"];_context.next=3;return fetch(\"https://www.nseindia.com/live_market/dynaContent/live_watch/get_quote/GetQuote.jsp?symbol=\".concat(symbols.join(\",\")),{headers:{\"User-Agent\":\"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36\"}});case 3:response=_context.sent;_context.next=6;return response.json();case 6:text=_context.sent;console.log(text);stockData=symbols.map(function(symbol){var regex=new RegExp(\"\\\"\".concat(symbol,\"[^}]*?closePrice\\\":\\\"(.*?)\\\"\"));var match=text.match(regex);return{symbol:symbol,price:match?match[1]:\"N/A\"};});setStocks(stockData);case 10:case\"end\":return _context.stop();}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();var interval=setInterval(fetchData,5000);// fetch data every 5 seconds\nreturn function(){return clearInterval(interval);};},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"Navbar-dashboard\",children:/*#__PURE__*/_jsx(NavBar,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"stock-display\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Top 10 Indian Stocks\"}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Symbol\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price (INR)\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:stocks.map(function(stock,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:stock.symbol}),/*#__PURE__*/_jsx(\"td\",{children:stock.price})]},index);})})]})]})]});}export default Dashboard;","map":{"version":3,"names":["React","useEffect","useState","NavBar","Routes","Route","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Dashboard","_useState","_useState2","_slicedToArray","stocks","setStocks","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","symbols","response","text","stockData","wrap","_callee$","_context","prev","next","fetch","concat","join","headers","sent","json","console","log","map","symbol","regex","RegExp","match","price","stop","apply","arguments","interval","setInterval","clearInterval","children","className","stock","index"],"sources":["/Users/lordvoldemort/IdeaProjects/Webdevelopment/Bulls and Bears/bull_bear/src/components/Dashboard.js"],"sourcesContent":["import React, {useEffect,useState} from \"react\";\n// import yfinance from \"yfinance\";\nimport NavBar from \"./NavBar\";\nimport {Routes, Route} from \"react-router-dom\";\nimport axios from 'axios';\nimport \"../styles/Dashboard.css\";\n\n// const STOCK_API_KEY = 'N3P0WGL6IDTJQUN4';\n// const STOCK_API_URL = \"https://www.alphavantage.co/query?function=TIME_SERIES_WEEKLY&symbol=RELIANCE.NS&apikey=N3P0WGL6IDTJQUN4\"\n\nfunction Dashboard () {\n\n    const [stocks, setStocks] = useState([]);\n\n    useEffect(() => {\n        const fetchData = async () => {\n            const symbols = [\"RELIANCE\", \"TCS\", \"HDFCBANK\", \"HINDUNILVR\", \"INFY\", \"KOTAKBANK\", \"BAJFINANCE\", \"ICICIBANK\", \"AXISBANK\", \"ITC\"];\n            const response = await fetch(`https://www.nseindia.com/live_market/dynaContent/live_watch/get_quote/GetQuote.jsp?symbol=${symbols.join(\",\")}`, {\n                headers: {\n                    \"User-Agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.36\",\n                },\n            });\n            const text = await response.json();\n            console.log(text)\n            const stockData = symbols.map((symbol) => {\n                const regex = new RegExp(`\"${symbol}[^}]*?closePrice\":\"(.*?)\"`);\n                const match = text.match(regex);\n                return { symbol, price: match ? match[1] : \"N/A\" };\n            });\n            setStocks(stockData);\n        };\n        fetchData();\n        const interval = setInterval(fetchData, 5000); // fetch data every 5 seconds\n        return () => clearInterval(interval);\n    }, []);\n\n    return(\n        <>\n            <div className=\"Navbar-dashboard\">\n                <NavBar/>\n            </div>\n            <div className=\"stock-display\">\n                <h1>Top 10 Indian Stocks</h1>\n                <table>\n                    <thead>\n                    <tr>\n                        <th>Symbol</th>\n                        <th>Price (INR)</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    {stocks.map((stock, index) => (\n                        <tr key={index}>\n                            <td>{stock.symbol}</td>\n                            <td>{stock.price}</td>\n                        </tr>\n                    ))}\n                    </tbody>\n                </table>\n            </div>\n        </>\n\n\n    );\n}\n\nexport default Dashboard;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}