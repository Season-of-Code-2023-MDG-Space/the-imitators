{"ast":null,"code":"'use strict';\n\nvar Lib = require('../../lib');\nvar convert = require('./convert');\nvar LAYER_PREFIX = require('../../plots/mapbox/constants').traceLayerPrefix;\nvar ORDER = {\n  cluster: ['cluster', 'clusterCount', 'circle'],\n  nonCluster: ['fill', 'line', 'circle', 'symbol']\n};\nfunction ScatterMapbox(subplot, uid, clusterEnabled, isHidden) {\n  this.type = 'scattermapbox';\n  this.subplot = subplot;\n  this.uid = uid;\n  this.clusterEnabled = clusterEnabled;\n  this.isHidden = isHidden;\n  this.sourceIds = {\n    fill: 'source-' + uid + '-fill',\n    line: 'source-' + uid + '-line',\n    circle: 'source-' + uid + '-circle',\n    symbol: 'source-' + uid + '-symbol',\n    cluster: 'source-' + uid + '-circle',\n    clusterCount: 'source-' + uid + '-circle'\n  };\n  this.layerIds = {\n    fill: LAYER_PREFIX + uid + '-fill',\n    line: LAYER_PREFIX + uid + '-line',\n    circle: LAYER_PREFIX + uid + '-circle',\n    symbol: LAYER_PREFIX + uid + '-symbol',\n    cluster: LAYER_PREFIX + uid + '-cluster',\n    clusterCount: LAYER_PREFIX + uid + '-cluster-count'\n  };\n\n  // We could merge the 'fill' source with the 'line' source and\n  // the 'circle' source with the 'symbol' source if ever having\n  // for up-to 4 sources per 'scattermapbox' traces becomes a problem.\n\n  // previous 'below' value,\n  // need this to update it properly\n  this.below = null;\n}\nvar proto = ScatterMapbox.prototype;\nproto.addSource = function (k, opts, cluster) {\n  var sourceOpts = {\n    type: 'geojson',\n    data: opts.geojson\n  };\n  if (cluster && cluster.enabled) {\n    Lib.extendFlat(sourceOpts, {\n      cluster: true,\n      clusterMaxZoom: cluster.maxzoom\n    });\n  }\n  this.subplot.map.addSource(this.sourceIds[k], sourceOpts);\n};\nproto.setSourceData = function (k, opts) {\n  this.subplot.map.getSource(this.sourceIds[k]).setData(opts.geojson);\n};\nproto.addLayer = function (k, opts, below) {\n  var source = {\n    type: opts.type,\n    id: this.layerIds[k],\n    source: this.sourceIds[k],\n    layout: opts.layout,\n    paint: opts.paint\n  };\n  if (opts.filter) {\n    source.filter = opts.filter;\n  }\n  this.subplot.addLayer(source, below);\n};\nproto.update = function update(calcTrace) {\n  var trace = calcTrace[0].trace;\n  var subplot = this.subplot;\n  var map = subplot.map;\n  var optsAll = convert(subplot.gd, calcTrace);\n  var below = subplot.belowLookup['trace-' + this.uid];\n  var hasCluster = !!(trace.cluster && trace.cluster.enabled);\n  var hadCluster = !!this.clusterEnabled;\n  var lThis = this;\n  function addCluster(noSource) {\n    if (!noSource) lThis.addSource('circle', optsAll.circle, trace.cluster);\n    var order = ORDER.cluster;\n    for (var i = 0; i < order.length; i++) {\n      var k = order[i];\n      var opts = optsAll[k];\n      lThis.addLayer(k, opts, below);\n    }\n  }\n  function removeCluster(noSource) {\n    var order = ORDER.cluster;\n    for (var i = order.length - 1; i >= 0; i--) {\n      var k = order[i];\n      map.removeLayer(lThis.layerIds[k]);\n    }\n    if (!noSource) map.removeSource(lThis.sourceIds.circle);\n  }\n  function addNonCluster(noSource) {\n    var order = ORDER.nonCluster;\n    for (var i = 0; i < order.length; i++) {\n      var k = order[i];\n      var opts = optsAll[k];\n      if (!noSource) lThis.addSource(k, opts);\n      lThis.addLayer(k, opts, below);\n    }\n  }\n  function removeNonCluster(noSource) {\n    var order = ORDER.nonCluster;\n    for (var i = order.length - 1; i >= 0; i--) {\n      var k = order[i];\n      map.removeLayer(lThis.layerIds[k]);\n      if (!noSource) map.removeSource(lThis.sourceIds[k]);\n    }\n  }\n  function remove(noSource) {\n    if (hadCluster) removeCluster(noSource);else removeNonCluster(noSource);\n  }\n  function add(noSource) {\n    if (hasCluster) addCluster(noSource);else addNonCluster(noSource);\n  }\n  function repaint() {\n    var order = hasCluster ? ORDER.cluster : ORDER.nonCluster;\n    for (var i = 0; i < order.length; i++) {\n      var k = order[i];\n      var opts = optsAll[k];\n      if (!opts) continue;\n      subplot.setOptions(lThis.layerIds[k], 'setLayoutProperty', opts.layout);\n      if (opts.layout.visibility === 'visible') {\n        if (k !== 'cluster') {\n          lThis.setSourceData(k, opts);\n        }\n        subplot.setOptions(lThis.layerIds[k], 'setPaintProperty', opts.paint);\n      }\n    }\n  }\n  var wasHidden = this.isHidden;\n  var isHidden = trace.visible !== true;\n  if (isHidden) {\n    if (!wasHidden) remove();\n  } else if (wasHidden) {\n    if (!isHidden) add();\n  } else if (hadCluster !== hasCluster) {\n    remove();\n    add();\n  } else if (this.below !== below) {\n    remove(true);\n    add(true);\n    repaint();\n  } else {\n    repaint();\n  }\n  this.clusterEnabled = hasCluster;\n  this.isHidden = isHidden;\n  this.below = below;\n\n  // link ref for quick update during selections\n  calcTrace[0].trace._glTrace = this;\n};\nproto.dispose = function dispose() {\n  var map = this.subplot.map;\n  var order = this.clusterEnabled ? ORDER.cluster : ORDER.nonCluster;\n  for (var i = order.length - 1; i >= 0; i--) {\n    var k = order[i];\n    map.removeLayer(this.layerIds[k]);\n    map.removeSource(this.sourceIds[k]);\n  }\n};\nmodule.exports = function createScatterMapbox(subplot, calcTrace) {\n  var trace = calcTrace[0].trace;\n  var hasCluster = trace.cluster && trace.cluster.enabled;\n  var isHidden = trace.visible !== true;\n  var scatterMapbox = new ScatterMapbox(subplot, trace.uid, hasCluster, isHidden);\n  var optsAll = convert(subplot.gd, calcTrace);\n  var below = scatterMapbox.below = subplot.belowLookup['trace-' + trace.uid];\n  var i, k, opts;\n  if (hasCluster) {\n    scatterMapbox.addSource('circle', optsAll.circle, trace.cluster);\n    for (i = 0; i < ORDER.cluster.length; i++) {\n      k = ORDER.cluster[i];\n      opts = optsAll[k];\n      scatterMapbox.addLayer(k, opts, below);\n    }\n  } else {\n    for (i = 0; i < ORDER.nonCluster.length; i++) {\n      k = ORDER.nonCluster[i];\n      opts = optsAll[k];\n      scatterMapbox.addSource(k, opts, trace.cluster);\n      scatterMapbox.addLayer(k, opts, below);\n    }\n  }\n\n  // link ref for quick update during selections\n  calcTrace[0].trace._glTrace = scatterMapbox;\n  return scatterMapbox;\n};","map":{"version":3,"names":["Lib","require","convert","LAYER_PREFIX","traceLayerPrefix","ORDER","cluster","nonCluster","ScatterMapbox","subplot","uid","clusterEnabled","isHidden","type","sourceIds","fill","line","circle","symbol","clusterCount","layerIds","below","proto","prototype","addSource","k","opts","sourceOpts","data","geojson","enabled","extendFlat","clusterMaxZoom","maxzoom","map","setSourceData","getSource","setData","addLayer","source","id","layout","paint","filter","update","calcTrace","trace","optsAll","gd","belowLookup","hasCluster","hadCluster","lThis","addCluster","noSource","order","i","length","removeCluster","removeLayer","removeSource","addNonCluster","removeNonCluster","remove","add","repaint","setOptions","visibility","wasHidden","visible","_glTrace","dispose","module","exports","createScatterMapbox","scatterMapbox"],"sources":["/Users/lordvoldemort/django_react/second_attempt/frontend/bull_bear/node_modules/plotly.js/src/traces/scattermapbox/plot.js"],"sourcesContent":["'use strict';\n\nvar Lib = require('../../lib');\nvar convert = require('./convert');\nvar LAYER_PREFIX = require('../../plots/mapbox/constants').traceLayerPrefix;\nvar ORDER = {\n    cluster: ['cluster', 'clusterCount', 'circle'],\n    nonCluster: ['fill', 'line', 'circle', 'symbol'],\n};\n\nfunction ScatterMapbox(subplot, uid, clusterEnabled, isHidden) {\n    this.type = 'scattermapbox';\n    this.subplot = subplot;\n    this.uid = uid;\n    this.clusterEnabled = clusterEnabled;\n    this.isHidden = isHidden;\n\n    this.sourceIds = {\n        fill: 'source-' + uid + '-fill',\n        line: 'source-' + uid + '-line',\n        circle: 'source-' + uid + '-circle',\n        symbol: 'source-' + uid + '-symbol',\n        cluster: 'source-' + uid + '-circle',\n        clusterCount: 'source-' + uid + '-circle',\n    };\n\n    this.layerIds = {\n        fill: LAYER_PREFIX + uid + '-fill',\n        line: LAYER_PREFIX + uid + '-line',\n        circle: LAYER_PREFIX + uid + '-circle',\n        symbol: LAYER_PREFIX + uid + '-symbol',\n        cluster: LAYER_PREFIX + uid + '-cluster',\n        clusterCount: LAYER_PREFIX + uid + '-cluster-count',\n    };\n\n    // We could merge the 'fill' source with the 'line' source and\n    // the 'circle' source with the 'symbol' source if ever having\n    // for up-to 4 sources per 'scattermapbox' traces becomes a problem.\n\n    // previous 'below' value,\n    // need this to update it properly\n    this.below = null;\n}\n\nvar proto = ScatterMapbox.prototype;\n\nproto.addSource = function(k, opts, cluster) {\n    var sourceOpts = {\n        type: 'geojson',\n        data: opts.geojson,\n    };\n\n    if(cluster && cluster.enabled) {\n        Lib.extendFlat(sourceOpts, {\n            cluster: true,\n            clusterMaxZoom: cluster.maxzoom,\n        });\n    }\n\n    this.subplot.map.addSource(this.sourceIds[k], sourceOpts);\n};\n\nproto.setSourceData = function(k, opts) {\n    this.subplot.map\n        .getSource(this.sourceIds[k])\n        .setData(opts.geojson);\n};\n\nproto.addLayer = function(k, opts, below) {\n    var source = {\n        type: opts.type,\n        id: this.layerIds[k],\n        source: this.sourceIds[k],\n        layout: opts.layout,\n        paint: opts.paint,\n    };\n    if(opts.filter) {\n        source.filter = opts.filter;\n    }\n    this.subplot.addLayer(source, below);\n};\n\nproto.update = function update(calcTrace) {\n    var trace = calcTrace[0].trace;\n    var subplot = this.subplot;\n    var map = subplot.map;\n    var optsAll = convert(subplot.gd, calcTrace);\n    var below = subplot.belowLookup['trace-' + this.uid];\n    var hasCluster = !!(trace.cluster && trace.cluster.enabled);\n    var hadCluster = !!this.clusterEnabled;\n    var lThis = this;\n\n    function addCluster(noSource) {\n        if(!noSource) lThis.addSource('circle', optsAll.circle, trace.cluster);\n        var order = ORDER.cluster;\n        for(var i = 0; i < order.length; i++) {\n            var k = order[i];\n            var opts = optsAll[k];\n            lThis.addLayer(k, opts, below);\n        }\n    }\n\n    function removeCluster(noSource) {\n        var order = ORDER.cluster;\n        for(var i = order.length - 1; i >= 0; i--) {\n            var k = order[i];\n            map.removeLayer(lThis.layerIds[k]);\n        }\n        if(!noSource) map.removeSource(lThis.sourceIds.circle);\n    }\n\n    function addNonCluster(noSource) {\n        var order = ORDER.nonCluster;\n        for(var i = 0; i < order.length; i++) {\n            var k = order[i];\n            var opts = optsAll[k];\n            if(!noSource) lThis.addSource(k, opts);\n            lThis.addLayer(k, opts, below);\n        }\n    }\n\n    function removeNonCluster(noSource) {\n        var order = ORDER.nonCluster;\n        for(var i = order.length - 1; i >= 0; i--) {\n            var k = order[i];\n            map.removeLayer(lThis.layerIds[k]);\n            if(!noSource) map.removeSource(lThis.sourceIds[k]);\n        }\n    }\n\n    function remove(noSource) {\n        if(hadCluster) removeCluster(noSource); else removeNonCluster(noSource);\n    }\n\n    function add(noSource) {\n        if(hasCluster) addCluster(noSource); else addNonCluster(noSource);\n    }\n\n    function repaint() {\n        var order = hasCluster ? ORDER.cluster : ORDER.nonCluster;\n        for(var i = 0; i < order.length; i++) {\n            var k = order[i];\n            var opts = optsAll[k];\n            if(!opts) continue;\n\n            subplot.setOptions(lThis.layerIds[k], 'setLayoutProperty', opts.layout);\n\n            if(opts.layout.visibility === 'visible') {\n                if(k !== 'cluster') {\n                    lThis.setSourceData(k, opts);\n                }\n                subplot.setOptions(lThis.layerIds[k], 'setPaintProperty', opts.paint);\n            }\n        }\n    }\n\n    var wasHidden = this.isHidden;\n    var isHidden = trace.visible !== true;\n\n    if(isHidden) {\n        if(!wasHidden) remove();\n    } else if(wasHidden) {\n        if(!isHidden) add();\n    } else if(hadCluster !== hasCluster) {\n        remove();\n        add();\n    } else if(this.below !== below) {\n        remove(true);\n        add(true);\n        repaint();\n    } else {\n        repaint();\n    }\n\n    this.clusterEnabled = hasCluster;\n    this.isHidden = isHidden;\n    this.below = below;\n\n    // link ref for quick update during selections\n    calcTrace[0].trace._glTrace = this;\n};\n\nproto.dispose = function dispose() {\n    var map = this.subplot.map;\n    var order = this.clusterEnabled ? ORDER.cluster : ORDER.nonCluster;\n    for(var i = order.length - 1; i >= 0; i--) {\n        var k = order[i];\n        map.removeLayer(this.layerIds[k]);\n        map.removeSource(this.sourceIds[k]);\n    }\n};\n\nmodule.exports = function createScatterMapbox(subplot, calcTrace) {\n    var trace = calcTrace[0].trace;\n    var hasCluster = trace.cluster && trace.cluster.enabled;\n    var isHidden = trace.visible !== true;\n\n    var scatterMapbox = new ScatterMapbox(\n        subplot,\n        trace.uid,\n        hasCluster,\n        isHidden\n    );\n\n    var optsAll = convert(subplot.gd, calcTrace);\n    var below = scatterMapbox.below = subplot.belowLookup['trace-' + trace.uid];\n    var i, k, opts;\n\n    if(hasCluster) {\n        scatterMapbox.addSource('circle', optsAll.circle, trace.cluster);\n        for(i = 0; i < ORDER.cluster.length; i++) {\n            k = ORDER.cluster[i];\n            opts = optsAll[k];\n            scatterMapbox.addLayer(k, opts, below);\n        }\n    } else {\n        for(i = 0; i < ORDER.nonCluster.length; i++) {\n            k = ORDER.nonCluster[i];\n            opts = optsAll[k];\n            scatterMapbox.addSource(k, opts, trace.cluster);\n            scatterMapbox.addLayer(k, opts, below);\n        }\n    }\n\n    // link ref for quick update during selections\n    calcTrace[0].trace._glTrace = scatterMapbox;\n\n    return scatterMapbox;\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}