{"ast":null,"code":"'use strict';\n\nvar isNumeric = require('fast-isnumeric');\nvar BADNUM = require('../../constants/numerical').BADNUM;\nvar calcMarkerColorscale = require('../scatter/colorscale_calc');\nvar arraysToCalcdata = require('../scatter/arrays_to_calcdata');\nvar calcSelection = require('../scatter/calc_selection');\nvar _ = require('../../lib')._;\nfunction isNonBlankString(v) {\n  return v && typeof v === 'string';\n}\nmodule.exports = function calc(gd, trace) {\n  var hasLocationData = Array.isArray(trace.locations);\n  var len = hasLocationData ? trace.locations.length : trace._length;\n  var calcTrace = new Array(len);\n  var isValidLoc;\n  if (trace.geojson) {\n    isValidLoc = function (v) {\n      return isNonBlankString(v) || isNumeric(v);\n    };\n  } else {\n    isValidLoc = isNonBlankString;\n  }\n  for (var i = 0; i < len; i++) {\n    var calcPt = calcTrace[i] = {};\n    if (hasLocationData) {\n      var loc = trace.locations[i];\n      calcPt.loc = isValidLoc(loc) ? loc : null;\n    } else {\n      var lon = trace.lon[i];\n      var lat = trace.lat[i];\n      if (isNumeric(lon) && isNumeric(lat)) calcPt.lonlat = [+lon, +lat];else calcPt.lonlat = [BADNUM, BADNUM];\n    }\n  }\n  arraysToCalcdata(calcTrace, trace);\n  calcMarkerColorscale(gd, trace);\n  calcSelection(calcTrace, trace);\n  if (len) {\n    calcTrace[0].t = {\n      labels: {\n        lat: _(gd, 'lat:') + ' ',\n        lon: _(gd, 'lon:') + ' '\n      }\n    };\n  }\n  return calcTrace;\n};","map":{"version":3,"names":["isNumeric","require","BADNUM","calcMarkerColorscale","arraysToCalcdata","calcSelection","_","isNonBlankString","v","module","exports","calc","gd","trace","hasLocationData","Array","isArray","locations","len","length","_length","calcTrace","isValidLoc","geojson","i","calcPt","loc","lon","lat","lonlat","t","labels"],"sources":["/Users/lordvoldemort/django_react/second_attempt/frontend/bull_bear/node_modules/plotly.js/src/traces/scattergeo/calc.js"],"sourcesContent":["'use strict';\n\nvar isNumeric = require('fast-isnumeric');\nvar BADNUM = require('../../constants/numerical').BADNUM;\n\nvar calcMarkerColorscale = require('../scatter/colorscale_calc');\nvar arraysToCalcdata = require('../scatter/arrays_to_calcdata');\nvar calcSelection = require('../scatter/calc_selection');\n\nvar _ = require('../../lib')._;\n\nfunction isNonBlankString(v) {\n    return v && typeof v === 'string';\n}\n\nmodule.exports = function calc(gd, trace) {\n    var hasLocationData = Array.isArray(trace.locations);\n    var len = hasLocationData ? trace.locations.length : trace._length;\n    var calcTrace = new Array(len);\n\n    var isValidLoc;\n    if(trace.geojson) {\n        isValidLoc = function(v) { return isNonBlankString(v) || isNumeric(v); };\n    } else {\n        isValidLoc = isNonBlankString;\n    }\n\n    for(var i = 0; i < len; i++) {\n        var calcPt = calcTrace[i] = {};\n\n        if(hasLocationData) {\n            var loc = trace.locations[i];\n            calcPt.loc = isValidLoc(loc) ? loc : null;\n        } else {\n            var lon = trace.lon[i];\n            var lat = trace.lat[i];\n\n            if(isNumeric(lon) && isNumeric(lat)) calcPt.lonlat = [+lon, +lat];\n            else calcPt.lonlat = [BADNUM, BADNUM];\n        }\n    }\n\n    arraysToCalcdata(calcTrace, trace);\n    calcMarkerColorscale(gd, trace);\n    calcSelection(calcTrace, trace);\n\n    if(len) {\n        calcTrace[0].t = {\n            labels: {\n                lat: _(gd, 'lat:') + ' ',\n                lon: _(gd, 'lon:') + ' '\n            }\n        };\n    }\n\n    return calcTrace;\n};\n"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,SAAS,GAAGC,OAAO,CAAC,gBAAgB,CAAC;AACzC,IAAIC,MAAM,GAAGD,OAAO,CAAC,2BAA2B,CAAC,CAACC,MAAM;AAExD,IAAIC,oBAAoB,GAAGF,OAAO,CAAC,4BAA4B,CAAC;AAChE,IAAIG,gBAAgB,GAAGH,OAAO,CAAC,+BAA+B,CAAC;AAC/D,IAAII,aAAa,GAAGJ,OAAO,CAAC,2BAA2B,CAAC;AAExD,IAAIK,CAAC,GAAGL,OAAO,CAAC,WAAW,CAAC,CAACK,CAAC;AAE9B,SAASC,gBAAgBA,CAACC,CAAC,EAAE;EACzB,OAAOA,CAAC,IAAI,OAAOA,CAAC,KAAK,QAAQ;AACrC;AAEAC,MAAM,CAACC,OAAO,GAAG,SAASC,IAAIA,CAACC,EAAE,EAAEC,KAAK,EAAE;EACtC,IAAIC,eAAe,GAAGC,KAAK,CAACC,OAAO,CAACH,KAAK,CAACI,SAAS,CAAC;EACpD,IAAIC,GAAG,GAAGJ,eAAe,GAAGD,KAAK,CAACI,SAAS,CAACE,MAAM,GAAGN,KAAK,CAACO,OAAO;EAClE,IAAIC,SAAS,GAAG,IAAIN,KAAK,CAACG,GAAG,CAAC;EAE9B,IAAII,UAAU;EACd,IAAGT,KAAK,CAACU,OAAO,EAAE;IACdD,UAAU,GAAG,SAAAA,CAASd,CAAC,EAAE;MAAE,OAAOD,gBAAgB,CAACC,CAAC,CAAC,IAAIR,SAAS,CAACQ,CAAC,CAAC;IAAE,CAAC;EAC5E,CAAC,MAAM;IACHc,UAAU,GAAGf,gBAAgB;EACjC;EAEA,KAAI,IAAIiB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGN,GAAG,EAAEM,CAAC,EAAE,EAAE;IACzB,IAAIC,MAAM,GAAGJ,SAAS,CAACG,CAAC,CAAC,GAAG,CAAC,CAAC;IAE9B,IAAGV,eAAe,EAAE;MAChB,IAAIY,GAAG,GAAGb,KAAK,CAACI,SAAS,CAACO,CAAC,CAAC;MAC5BC,MAAM,CAACC,GAAG,GAAGJ,UAAU,CAACI,GAAG,CAAC,GAAGA,GAAG,GAAG,IAAI;IAC7C,CAAC,MAAM;MACH,IAAIC,GAAG,GAAGd,KAAK,CAACc,GAAG,CAACH,CAAC,CAAC;MACtB,IAAII,GAAG,GAAGf,KAAK,CAACe,GAAG,CAACJ,CAAC,CAAC;MAEtB,IAAGxB,SAAS,CAAC2B,GAAG,CAAC,IAAI3B,SAAS,CAAC4B,GAAG,CAAC,EAAEH,MAAM,CAACI,MAAM,GAAG,CAAC,CAACF,GAAG,EAAE,CAACC,GAAG,CAAC,CAAC,KAC7DH,MAAM,CAACI,MAAM,GAAG,CAAC3B,MAAM,EAAEA,MAAM,CAAC;IACzC;EACJ;EAEAE,gBAAgB,CAACiB,SAAS,EAAER,KAAK,CAAC;EAClCV,oBAAoB,CAACS,EAAE,EAAEC,KAAK,CAAC;EAC/BR,aAAa,CAACgB,SAAS,EAAER,KAAK,CAAC;EAE/B,IAAGK,GAAG,EAAE;IACJG,SAAS,CAAC,CAAC,CAAC,CAACS,CAAC,GAAG;MACbC,MAAM,EAAE;QACJH,GAAG,EAAEtB,CAAC,CAACM,EAAE,EAAE,MAAM,CAAC,GAAG,GAAG;QACxBe,GAAG,EAAErB,CAAC,CAACM,EAAE,EAAE,MAAM,CAAC,GAAG;MACzB;IACJ,CAAC;EACL;EAEA,OAAOS,SAAS;AACpB,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}